# –ì–∞–π–¥ –ø–æ LoRA
-> by anons <-
-> –ø–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: 11.10.2023 <-
***
[TOC2]
## –ß—Ç–æ —ç—Ç–æ

[LoRA (Low-rank Adaptation for Fast Text-to-Image Diffusion Fine-tuning)](https://github.com/cloneofsimo/lora), —Å–æ–≥–ª–∞—Å–Ω–æ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–º—É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—é ‚Äî –º–µ—Ç–æ–¥ –¥–æ–æ–±—É—á–µ–Ω–∏—è Stable Diffusion —á–µ–∫–ø–æ–∏–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–π –∏–º–µ–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:

- –≤–¥–≤–æ–µ –±—ã—Å—Ç—Ä–µ–µ —á–µ–º –º–µ—Ç–æ–¥ DreamBooth;
- –º–∞–ª–µ–Ω—å–∫–∏–π —Ä–∞–∑–º–µ—Ä –≤—ã—Ö–æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞;
- —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–Ω–æ–≥–¥–∞ –ª—É—á—à–µ, —á–µ–º —É —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–æ–≥–æ —Ñ–∞–π–Ω-—Ç—å—é–Ω–∏–Ω–≥–∞.

–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è –æ–±—É—á–µ–Ω–∏—è: –≤–∏–¥–µ–æ–∫–∞—Ä—Ç–∞ Nvidia, –Ω–µ –º–µ–Ω—å—à–µ 8–ì–± –≤–∏–¥–µ–æ–ø–∞–º—è—Ç–∏.
***
## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

–ù–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –µ—Å—Ç—å —Ç—Ä–∏ —Å–ø–æ—Å–æ–±–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–µ—Ç–∏ LoRA:
1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞—Ç–∏–≤–Ω—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É A1111-WebUI
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ sd-additional-networks
3. –ó–∞–º–µ—Ä–¥–∂–∏—Ç—å –≤–º–µ—Å—Ç–µ —Å SD —á–µ–∫–ø–æ–∏–Ω—Ç–æ–º

#### C–ø–æ—Å–æ–± 1 ‚Äì –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –ø—Ä–æ–º–ø—Ç–µ WebUI
!!! note –ü–æ —Å–æ—Å—Ç–æ—è–Ω–∏—é –Ω–∞ 03.10.2023 —ç—Ç–æ—Ç —Å–ø–æ—Å–æ–± —è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–º –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è, —Ç–∞–∫ –∫–∞–∫ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤—Å–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã LyCORIS –∏–∑ –∫–æ—Ä–æ–±–∫–∏.

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ñ–∞–π–ª—ã —Å–µ—Ç–µ–π —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ø–∞–ø–∫–µ *stable-diffusion-webui\models\lora\\*. –¢—É–¥–∞ –∏ –Ω—É–∂–Ω–æ —Å–∫–∏–¥—ã–≤–∞—Ç—å –Ω–æ–≤—ã–µ —Å–∫–∞—á–∞–Ω–Ω—ã–µ –ª–æ—Ä—ã –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º.
	
1. –í –º–µ–Ω—é –≥–µ–Ω–µ—Ä–∞—Ü–∏–π –Ω–∞–∂–∞—Ç—å **Lora** –Ω–∞–π—Ç–∏ –∏ –≤—ã–±—Ä–∞—Ç—å –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â—É—é —Å–µ—Ç—å | 2. LoRA –ø–æ—è–≤–∏—Ç—Å—è –≤ –ø—Ä–æ–º—Ç–µ (–æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ—Å–ª–µ ```:``` –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤–µ—Å–æ–≤ unet –∏ te –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)
------ | ------
![](https://files.catbox.moe/tlutq9.jpg) | ![](https://files.catbox.moe/klxs6r.png)

#### C–ø–æ—Å–æ–± 2 ‚Äì —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ sd-additional-networks
!!! note –ü–æ —Å–æ—Å—Ç–æ—è–Ω–∏—é –Ω–∞ 03.10.2023 —ç—Ç–æ—Ç —Å–ø–æ—Å–æ–± —Å—á–∏—Ç–∞–µ—Ç—Å—è —É—Å—Ç–∞—Ä–µ–≤—à–∏–º, –∏–º–µ–µ—Ç –º–µ–Ω—å—à—É—é —Å–∫–æ—Ä–æ—Å—Ç—å –≤ –∏–Ω—Ñ–µ—Ä–µ–Ω—Å —Ç–∞–π–º–µ, –æ—Ç–ª–∏—á–∞—é—â–∏–µ—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–π –∏ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∞–ª–≥–æ—Ä–∏—Ç–º—ã –≤–º–µ—à–∏–≤–∞—é—â–∏–µ—Å—è –≤ —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç–∏ –º–∞—Ç—Ä–∏—Ü, –ø–æ —Ç–∏–ø—É LoKR, LoHA, IA3. –ò–º–µ–µ—Ç—Å—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –ª–∏—à—å –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–π LoRA –∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ LoCon.
–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å [—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –æ—Ç kohya-ss](https://github.com/kohya-ss/sd-webui-additional-networks) –¥–ª—è A1111-WebUI.
–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å —ç—Ç–∏–º —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º –Ω–∞ –Ω–∞–ª–∏—á–∏–µ —Ñ–∞–π–ª–æ–≤ —Å–µ—Ç–µ–π —Å–∫–∞–Ω–∏—Ä—É–µ—Ç—Å—è –ø–∞–ø–∫–∞ *stable-diffusion-webui\extensions\sd-webui-additional-networks\models\lora\\*, –Ω–æ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –¥–ª—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –ª–æ—Ä —á–µ—Ä–µ–∑ **Settings** > **Additional networks** > **Extra paths to scan for LoRA models, comma-separated.**:
-> [![](https://files.catbox.moe/hdm2ks.png)](https://files.catbox.moe/hdm2ks.png) <-
–ü–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –ø—Ä–æ—Å—Ç–æ:
1. –û—Ç–∫—Ä—ã—Ç—å –Ω–æ–≤—É—é –ø–∞–Ω–µ–ª—å | 2. –í–∫–ª—é—á–∏—Ç—å, –≤—ã–±—Ä–∞—Ç—å –º–æ–¥–µ–ª—å, –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –≤–µ—Å–∞ –ø–æ –≤–∫—É—Å—É
------ | ------
![](https://i.imgur.com/GvJhlWg.png) | ![](https://i.imgur.com/Ur9iFWk.png)

#### C–ø–æ—Å–æ–± 3 ‚Äì –º–µ—Ä–¥–∂ —Å –º–æ–¥–µ–ª—å—é

!!!danger –≠—Ç–æ—Ç —Å–ø–æ—Å–æ–± –¥–æ–±–∞–≤–ª—è–µ—Ç –ª–æ—Ä—É –≤ –º–æ–¥–µ–ª—å –Ω–∞–≤—Å–µ–≥–¥–∞, –∞ –Ω–µ –ø—Ä–æ—Å—Ç–æ –Ω–∞–∫–ª–∞–¥—ã–≤–∞–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–µ—Å–∞ –≤ –∏–Ω—Ñ–µ—Ä–µ–Ω—Å —Ç–∞–π–º–µ. –î–µ–ª–∞—Ç—å —Ç–∞–∫ —Å—Ç–æ–∏—Ç –ª–∏—à—å –≤ —Å–ª—É—á–∞–µ, –∫–æ–≥–¥–∞ –≤—ã —Å–æ–±–∏—Ä–∞–µ—Ç–µ—Å—å –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–∞–∫—É—é –º–æ–¥–µ–ª—å –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ —Ö–æ—Ç–∏—Ç–µ —Å–æ–∑–¥–∞—Ç—å –∫–∞–∫–æ–π –Ω–∏–±—É–¥—å –Ω–æ–≤—ã–π –º–∏–∫—Å —á–µ–∫–ø–æ–∏–Ω—Ç–∞.

–î–ª—è —ç—Ç–æ–≥–æ –ª—É—á—à–µ –≤—Å–µ–≥–æ –±—É–¥–µ—Ç –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ–π [—Ç—É–ª–∑–æ–π](https://github.com/bmaltais/kohya_ss). –°—Ç–∞–≤–∏–º –ø–æ [–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏](https://github.com/bmaltais/kohya_ss#windows), –∏ –∑–∞–ø—É—Å–∫–∞–µ–º —Å –ø–æ–º–æ—â—å—é **gui.bat**.
–î–∞–ª—å—à–µ –Ω—É–∂–Ω–æ –ø—Ä–æ—Å–ª–µ–¥–æ–≤–∞—Ç—å –ø–æ –≤–∫–ª–∞–¥–∫–∞–º, –∫–∞–∫ –Ω–∞ —Å–∫—Ä–∏–Ω–µ –Ω–∏–∂–µ –∏ –≤—ã–±—Ä–∞—Ç—å –∂–µ–ª–∞–µ–º—ã–µ —á–µ–∫–ø–æ–∏–Ω—Ç, –ª–æ—Ä—É/–ª–∏–∫–æ –∏ –ø—É—Ç—å —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º –¥–ª—è –Ω–æ–≤–æ–π –º–æ–¥–µ–ª–∏, –ø–æ—Å–ª–µ –Ω–∞–∂–∞—Ç—å Merge model. Merge ratio —ç—Ç–æ —Å–∏–ª–∞ –ª–æ—Ä—ã —Å –∫–æ—Ç–æ—Ä–æ–π –æ–Ω–∞ –±—É–¥–µ—Ç –ø—Ä–∏–º–µ—Ä–¥–∂–µ–Ω–∞.
![](https://files.catbox.moe/8440um.png)

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ —Å—Ç–æ–∏—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –º–µ—Ä–¥–∂–∞. –°–Ω–∞—á–∞–ª–∞ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–∞—Ä—Ç–∏–Ω–∫—É —Å –º–æ–¥–µ–ª—å—é –±–µ–∑ –º–µ—Ä–¥–∂–∞ –∏ –ª–æ—Ä–æ–π –≤ –ø—Ä–æ–º–ø—Ç–µ, –∞ –ø–æ—Å–ª–µ –ø—Ä–æ—Å—Ç–æ —Å –º–æ–¥–µ–ª—å—é –≤ –∫–æ—Ç–æ—Ä—É—é –±—ã–ª–∞ –ø—Ä–∏–º–µ—Ä–¥–∂–µ–Ω–∞ –ª–æ—Ä–∞, –±–µ–∑ –Ω–µ—ë –≤ –ø—Ä–æ–º–ø—Ç–µ. –ö–∞—Ä—Ç–∏–Ω–∫–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø–æ—á—Ç–∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏.

***

!!!note –ü–µ—Ä–µ–¥ —Ç–µ–º, –∫–∞–∫ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å –¥–∞–ª—å—à–µ –Ω—É–∂–Ω–æ –ø–æ—Å—Ç–∞–≤–∏—Ç—å [CUDA-toolkit](https://developer.nvidia.com/cuda-11-6-0-download-archive?target_os=Windows&target_arch=x86_64&target_version=11) –∏ [Python 3.10.X](https://www.python.org/ftp/python/3.10.6/python-3.10.6-amd64.exe).

## –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞—Ç–∞—Å–µ—Ç–∞

#### –û–±—â–∏–µ —Å–æ–≤–µ—Ç—ã

!!! info –°–æ–≤–µ—Ç ‚Ññ1
    –î–∞—Ç–∞—Å–µ—Ç —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—à–Ω–æ–π —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏. –¢–æ –Ω–∞—Å–∫–æ–ª—å–∫–æ —á–∏—Å—Ç–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã –∫–∞—Ä—Ç–∏–Ω–∫–∏ –≤ –Ω—ë–º –≤–ª–∏—è–µ—Ç –Ω–∞ –ø–æ–ª—É—á–µ–Ω–Ω—É—é –ª–æ—Ä—É –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ. –í—Å–µ –æ—à–º–µ—Ç–∫–∏ —á—É–∂–∏—Ö –∫–æ–Ω–µ—á–Ω–æ—Å—Ç–µ–π, –Ω–µ–ø–æ–Ω—è—Ç–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã –Ω–∞ –∫–∞—Ä—Ç–∏–Ω–∫–µ, –ø–æ–¥–ø–∏—Å–∏ —Ö—É–¥–æ–∂–Ω–∏–∫–æ–≤, —Å—Å—ã–ª–∫–∏ ‚Äì –≤—Å–µ, —á—Ç–æ –≤—ã **–Ω–µ** —Ö–æ—Ç–∏—Ç–µ –≤–∏–¥–µ—Ç—å –≤ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è—Ö, –ª—É—á—à–µ –æ–±—Ä–µ–∑–∞—Ç—å –∏–ª–∏ –∑–∞–º–∞–∑–∞—Ç—å –≤ —Ñ–æ—Ç–æ—à–æ–ø–µ. –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∫–∞—Ä—Ç–∏–Ω–æ–∫ –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –Ω–∏–∂–µ, —á–µ–º —Ç–æ —Å –∫–æ—Ç–æ—Ä—ã–º –≤—ã –±—É–¥–µ—Ç–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∞—Ç—å. –ü—Ä–∏–º–µ—Ä–Ω–æ–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞—Ä—Ç–∏–Ω–æ–∫, –ø–æ–¥ –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –∫—Ä—É—Ç–∏—Ç—å –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —ç—Ç–æ:
	- 50-100 –¥–ª—è –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
	- 75-150 –¥–ª—è —Å—Ç–∏–ª—è
	–¶–∏—Ñ—Ä—ã –ø—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª—å–Ω—ã –∏ –∑–∞–≤–∏—Å—è—Ç –æ—Ç –∫–∞–∂–¥–æ–≥–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –¥–∞—Ç–∞—Å–µ—Ç–∞, –∞ —Ç–∞–∫ –∂–µ –æ—Å–Ω–æ–≤—ã–≤–∞—é—Ç—Å—è –Ω–∞ –æ–ø—ã—Ç–µ –∞–≤—Ç–æ—Ä–∞. –ï—Å–ª–∏ —Å–æ–±—Ä–∞—Ç—å –º–∞–ª–æ –∫–∞—Ä—Ç–∏–Ω–æ–∫, —Å–µ—Ç—å –±—É–¥–µ—Ç –±–æ–ª–µ–µ —Å–∫–ª–æ–Ω–Ω–∞ –∫ –ø–µ—Ä–µ—Ç—Ä–µ–Ω—É, —Ç–∞–∫ –∏ –Ω–∞–æ–±–æ—Ä–æ—Ç, –µ—Å–ª–∏ —Å–æ–±—Ä–∞—Ç—å —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ, –Ω–∞ —Ç–æ–º –∂–µ –ª—Ä —Å–µ—Ç—å –ø—Ä–∏–¥—ë—Ç—Å—è —Ç—Ä–µ–Ω–∏—Ç—å –Ω–∞–º–Ω–æ–≥–æ –¥–æ–ª—å—à–µ.
!!! info –°–æ–≤–µ—Ç ‚Ññ2
	–¢–µ–≥–≥–∏–Ω–≥ –¥–∞—Ç–∞—Å–µ—Ç–∞ –Ω–µ –º–µ–Ω–µ–µ –≤–∞–∂–µ–Ω, –µ—Å–ª–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–æ–¥–æ–±—Ä–∞—Ç—å —Ç–µ–≥–∏, –∫–æ—Ç–æ—Ä—ã–µ —É–∂–µ –≤ —Å–µ–±–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –∏–Ω—Ñ—É –æ—Ç –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫, —ç—Ç–æ —Å–∏–ª—å–Ω–æ —É–ø—Ä–æ—Å—Ç–∏—Ç –∏ —É—Å–∫–æ—Ä–∏—Ç –∑–∞–¥–∞—á—É. –ï—Å–ª–∏ —Ç—Ä–µ–Ω–∏—Ä—É–µ—Ç–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–Ω–∏–º–µ –º–æ–¥–µ–ª–µ–π (NAI, AnythingV3), –æ–ø–∏—Å–∞–Ω–∏–µ –¥–µ–ª–∞—Ç—å —Å—Ç—Ä–æ–≥–æ –≤ —Å—Ç–∏–ª–µ Danbooru/Gelbooru —Ç—ç–≥–æ–≤. –ù–∞–ø—Ä–∏–º–µ—Ä, *1girl, short hair, green eyes, black hair, school uniform...*, —ç—Ç–æ –∫–∞–∫ —Ä–∞–∑ –ø—Ä–∏–º–µ—Ä —Ç–µ—Ö —Å–∞–º—ã—Ö —Ç–µ–≥–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —É–∂–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∞–ª–∏—Å—å –≤ –¥–∞—Ç–∞—Å–µ—Ç–µ NAI.
	–ï—Å–ª–∏ —Ç—Ä–µ–Ω–∏—Ä—É–µ—Ç–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ SD 1.x/2.x, –≤ –æ–ø–∏—Å–∞–Ω–∏—è—Ö –ø–∏—à–∏—Ç–µ —á—Ç–æ –≤—ã –≤–∏–¥–∏—Ç–µ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ ‚Äì —Ä–∏—Å—É–Ω–æ–∫ –±–æ—Ä–æ–¥–∞—Ç–æ–≥–æ —Ä—ã–±–∞–∫–∞ –∑–∞ —Ä–∞–±–æ—Ç–æ–π, –ø–∏—à–∏—Ç–µ *pencil art of a man fishing, beard*; –µ—Å–ª–∏ —ç—Ç–æ —Ñ–æ—Ç–æ –≤–∞—à–µ–≥–æ —É–ª—ã–±–∞—é—â–µ–≥–æ—Å—è –¥—Ä—É–≥–∞ –≤ –æ—á–∫–∞—Ö –∏ –∫—Ä–∞—Å–Ω–æ–π —Ä—É–±–∞—à–∫–µ –Ω–∞ —Ñ–æ–Ω–µ –∑–∞–∫–∞—Ç–∞, –ø–∏—à–∏—Ç–µ *photo of friend_name, smiling, wearing glasses, red shirt, sunset in the background*)
!!! info –°–æ–≤–µ—Ç ‚Ññ3
	–ï—Å–ª–∏ —Ç—Ä–µ–Ω–∏—Ä—É–µ—Ç–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞/—á–µ–ª–æ–≤–µ–∫–∞, –∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ —á—Ç–æ–±—ã –¥–∞—Ç–∞—Å–µ—Ç —Å–æ—Å—Ç–æ—è–ª —Ç–æ–ª—å–∫–æ –∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π, –≥–¥–µ –æ–Ω –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç, –∞–ª—Å–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–∏–¥–µ—Ä–∂–∏–≤–∞—Ç—å—Å—è —Ä–∞–∑–Ω—ã—Ö —Å—Ç–∏–ª–µ–π –≤ –∞—Ä—Ç–∞—Ö, –µ—Å–ª–∏ —ç—Ç–æ –∞–Ω–∏–º–µ –ø–µ—Ä—Å–æ–Ω–∞–∂. –ò —á—Ç–æ–±—ã –≤–æ –≤—Å–µ—Ö –æ–ø–∏—Å–∞–Ω–∏—è—Ö –±—ã–ª–æ –∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ, –æ–ø–∏—Å—ã–≤–∞—é—â–µ–µ —ç—Ç–æ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞/—á–µ–ª–æ–≤–µ–∫–∞. –ù–∞–ø—Ä–∏–º–µ—Ä, 1.txt: *photo of AndrewFriend, jacket, jeans*; 2.txt: *photo of AndrewFriend, shorts, t-shirt*. –í—ã–∑—ã–≤–∞—Ç—å –≤—ã –¥–∞–Ω–Ω–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞ –≤ –ø—Ä–æ–º—Ç–µ –±—É–¥–µ—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ —á–µ—Ä–µ–∑ —Ç–µ–≥ *AndrewFriend*. –¢–æ–∂–µ —Å–∞–º–æ–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –¥–ª—è –∞–Ω–∏–º–µ –º–æ–¥–µ–ª–µ–π ‚Äì –≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ —ç—Ç–æ –±—É–¥–µ—Ç –∏–º—è –ø–µ—Ä—Å–æ–Ω–∞–∂–∞. –ù–∞–ø—Ä–∏–º–µ—Ä, *shiina mayuri, 1girl, short hair, green eyes* –∏ —Ç.–¥. –í—ã–∑–æ–≤ —á–µ—Ä–µ–∑ *shiina mayuri* —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ. –¢–∞–∫–∂–µ, –µ—Å–ª–∏ –º–æ–¥–µ–ª—å —É–∂–µ –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ –Ω–µ–º–Ω–æ–≥–æ –¥–æ–≥–∞–¥—ã–≤–∞–µ—Ç—Å—è –æ –≤–∞—à–µ–º –ø–µ—Ä—Å–æ–Ω–∞–∂–µ, –∫–æ—Ç–æ—Ä–æ–≥–æ –≤—ã –±—É–¥–µ—Ç–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∞—Ç—å –ø–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–º—É —Ç–µ–≥—É, —ç—Ç–æ –µ—â—ë –±–æ–ª—å—à–µ —É–ø—Ä–æ—Å—Ç–∏—Ç –∑–∞–¥–∞—á—É.
	–ï—Å–ª–∏ —Ç—Ä–µ–Ω–∏—Ä—É–µ—Ç–µ –∞–≤—Ç–æ—Ä—Å–∫–∏–π —Å—Ç–∏–ª—å, –∫–∞–∫ –∏ –≤ –ø—Ä–µ–¥—ã–¥—É—â–µ–º –∞–±–∑–∞—Ü–µ –∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ —á—Ç–æ–±—ã –¥–∞—Ç–∞—Å–µ—Ç —Å–æ—Å—Ç–æ—è–ª —Ç–æ–ª—å–∫–æ –∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π, –Ω–∞—Ä–∏—Å–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã–º –∞–≤—Ç–æ—Ä–æ–º –∏ –Ω–µ –º–µ–Ω—è—é—â–∏—Ö—Å—è –≤ —Å—Ç–∏–ª–µ, —É –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –∞–≤—Ç–æ—Ä–æ–≤ –µ—Å—Ç—å —Ç–µ–Ω–¥–µ–Ω—Ü–∏—è –º–µ–Ω—è—Ç—å –µ–≥–æ —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º. –¢–∞–∫–∂–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è, –≤ —Å–ª—É—á–∞–µ —Å–æ —Å—Ç–∏–ª—è–º–∏, —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∞—Ç—å —Å **NAI** —á–µ–∫–ø–æ–∏–Ω—Ç–∞ (—Å—Ç–∞—Ä—ã–π —Ö–µ—à - 925997e9, –Ω–æ–≤—ã–π —Ö–µ—à - 89d59c3dde). –î–ª—è —Ç–µ—Ö, –∫—Ç–æ –∑–∞–±—ã–ª [–≥–¥–µ –≤–∑—è—Ç—å —ç—Ç–æ—Ç —á–µ–∫–ø–æ–∏–Ω—Ç](magnet:?xt=urn:btih:5bde442da86265b670a3e5ea3163afad2c6f8ecc&dn=novelaileak&tr=udp%3A%2F%2Ftracker.opentrackr.org%3A1337%2Fannounce&tr=udp%3A%2F%2F9.rarbg.com%3A2810%2Fannounce&tr=udp%3A%2F%2Ftracker.openbittorrent.com%3A6969%2Fannounce&tr=http%3A%2F%2Ftracker.openbittorrent.com%3A80%2Fannounce&tr=udp%3A%2F%2Fopentracker.i2p.rocks%3A6969%2Fannounce). –¢–µ–≥–∞—Ç—å –º–æ–∂–Ω–æ —Ç–∞–∫ –∂–µ –∫–∞–∫ –∏ —Å –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–º, –Ω–æ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ç–µ–≥ –∑–∞–≤–æ–¥–∏—Ç—å –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ. –ü—Ä–∏–º–µ—Ä –æ–ø–∏—Å–∞–Ω–∏—è: *mountains, night, moon, snowy peaks, stars* –∏ —Ç.–¥.
!!! info –°–æ–≤–µ—Ç ‚Ññ4
    –î–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è —Ä—É—á–Ω–æ–≥–æ —Ç–µ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–æ–∫—Ä–æ–ø–∏—Å—å–∫–∏ ([1](https://github.com/hydrusnetwork/hydrus), [2](https://github.com/arenatemp/sd-tagging-helper), [3](https://github.com/starik222/BooruDatasetTagManager)).
	–õ–∏–±–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è ([1](https://github.com/picobyte/stable-diffusion-webui-wd14-tagger), [2](https://github.com/toshiaki1729/stable-diffusion-webui-dataset-tag-editor), [3](https://github.com/SesuMoe/sd-tagger-webui)) –¥–ª—è A1111-webui.
	–î–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Å —Ä–∞–∑–ª–∏—á–Ω—ã—Ö booru-–¥–æ—Å–æ–∫ –≤–º–µ—Å—Ç–µ —Å —Ç–µ–≥–∞–º–∏ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å [Grabber](https://github.com/Bionus/imgbrd-grabber/releases) —Å [—Ç–∞–∫–∏–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏](https://files.catbox.moe/e29fq5.png) (—Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –≤—Å—Ç–∞–≤—å—Ç–µ: ```%character:unsafe,separator=^,^ %, %general:unsafe,separator=^,^ %```).
	–ü—Ä–æ—Å—Ç—ã–º —Å–ø–æ—Å–æ–±–æ–º –¥–ª—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ —Å—Ç–∏–ª—è/–∞–Ω–∏–º–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ –±—É–¥–µ—Ç –ª–∏–±–æ [–ø—Ä–æ—Ç–µ–≥–∞—Ç—å –≤—Å—ë](https://files.catbox.moe/51gecu.png) –≤–æ—Ç —ç—Ç–∏–º [—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º](https://github.com/picobyte/stable-diffusion-webui-wd14-tagger), –ª–∏–±–æ —Å–∫–∞—á–∞—Ç—å –≥–æ—Ç–æ–≤—ã–µ —Ç–µ–≥–∏ —Å –ø–∏–∫—á–∞–º–∏ –¥–∞–Ω–±–æ—Ä—É/–≥–µ–ª–±—É—Ä—É —Å –ø–æ–º–æ—â—å—é –≥—Ä–∞–±–±–µ—Ä–∞ —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –≤—ã—à–µ. –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–æ—Å—Ç–æ, –ø–æ—Å–ª–µ –≤–≤–æ–¥–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö —Ç–µ–≥–æ–≤, –Ω–∞–∂–∞—Ç—å Get all, –ø–æ—Å–ª–µ –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ –≤–∫–ª–∞–¥–∫—É Downloads –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É, –ø–æ—Å–ª–µ —á–µ–≥–æ –ø—Ä–∏—Å—Ç—É–ø–∏—Ç—å –∫ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–µ –∫–∞—Ä—Ç–∏–Ω–æ–∫, –≤–æ—Ç –∫—Å—Ç–∞—Ç–∏ –ø–æ–ª–µ–∑–Ω—ã–π [—Å–∫—Ä–∏–ø—Ç](https://files.catbox.moe/5fii8o.py), —á—Ç–æ–±—ã –ø–æ—á–∏—Å—Ç–∏—Ç—å —Ç—Ö—Ç—à–Ω–∏–∫–∏ –ø–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è –ø–∏–∫—á, –Ω–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π.
!!! info –°–æ–≤–µ—Ç ‚Ññ5
	–û–±—â–µ–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ –ø—Ä–µ–¥–µ–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —à–∞–≥–æ–≤ –¥–ª—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å [—Ç—É—Ç](#-max_train_steps-max_train_steps).
	
***

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞—Ç–∞—Å–µ—Ç–∞

–î–∞—Ç–∞—Å–µ—Ç—É –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫:

-> ![–ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø–∞–ø–æ–∫](https://i.imgur.com/hJsmBzK.png) <-
-> –ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø–∞–ø–æ–∫ <-

–ì–¥–µ **n** ‚Äì –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ *–ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π* –¥–∞–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ü–µ–ø—Ç–∞; **conceptA**, **conceptB** ‚Äì –∏–º–µ–Ω–∞ –∫–æ–Ω—Ü–µ–ø—Ç–æ–≤. –ò–º—è –∫–æ–Ω—Ü–µ–ø—Ç–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –ª—é–±–æ–µ, –æ–Ω–æ –Ω–∏–≥–¥–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è (–∫—Ä–æ–º–µ –æ—Å–æ–±–æ–≥–æ —Å–ª—É—á–∞—è, —Å–º. *–í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è*), —ç—Ç–æ —Å–∫–æ—Ä–µ–µ –∑–∞–º–µ—Ç–∫–∞ –¥–ª—è –≤–∞—Å, —á—Ç–æ –≤ —ç—Ç–æ–π –ø–∞–ø–∫–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è. –ú–µ–∂–¥—É –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π –∏ –∏–º–µ–Ω–µ–º –∫–æ–Ω—Ü–µ–ø—Ç–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –Ω–∞–ª–∏—á–∏–µ –Ω–∏–∂–Ω–µ–≥–æ –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏—è. –í–Ω—É—Ç—Ä–∏ –∫–∞–∂–¥–æ–π –ø–∞–ø–∫–∏ –∫–æ–Ω—Ü–µ–ø—Ç–∞ –¥–æ–ª–∂–Ω—ã –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤–º–µ—Å—Ç–µ —Å —Ñ–∞–π–ª–∞–º–∏ –æ–ø–∏—Å–∞–Ω–∏—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ \*.txt, –∏—Ö –∏–º–µ–Ω–∞ –¥–æ–ª–∂–Ω—ã —Å–æ–≤–ø–∞–¥–∞—Ç—å. –í–Ω—É—Ç—Ä–∏ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å, —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ, –æ–ø–∏—Å–∞–Ω–∏–µ. –ü–∞–ø–æ–∫ –∫–æ–Ω—Ü–µ–ø—Ç–æ–≤ –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–∫–æ–ª—å–∫–æ —É–≥–æ–¥–Ω–æ, –Ω–æ —Ö–æ—Ç—è –±—ã –æ–¥–Ω–∞ –¥–æ–ª–∂–Ω–∞ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–æ–≤–∞—Ç—å. **–û–±—Ä–µ–∑–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ**.
[–ü—Ä–∏–º–µ—Ä –¥–∞—Ç–∞—Å–µ—Ç–∞ –¥–ª—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ —Å—Ç–∏–ª—è](https://mega.nz/folder/KiJ23KJL#1ovvD60VA_eJOMhJ6uLXrg)
!!! warning –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è
	–ï—Å–ª–∏ —É —Ñ–∞–π–ª–∞ *image.png* –Ω–µ –±—É–¥–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ *image.txt*, —Å–∫—Ä–∏–ø—Ç [–≤—ã–¥–∞—Å—Ç –µ–º—É –æ–ø–∏—Å–∞–Ω–∏–µ –≤ –≤–∏–¥–µ –∏–º–µ–Ω–∏ –∫–æ–Ω—Ü–µ–ø—Ç–∞](https://github.com/kohya-ss/sd-scripts/blob/main/library/train_util.py#L513). –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –ø–∞–ø–∫–∞ –∫–æ–Ω—Ü–µ–ø—Ç–∞ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è *6_photo*, –±—É–¥–µ—Ç —Å—á–∏—Ç–∞—Ç—å—Å—è, —á—Ç–æ —É —Ñ–∞–π–ª–∞ *image.png* –æ–ø–∏—Å–∞–Ω–∏–µ *photo*.
	–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π: *\*.png, \*.jpg, \*.jpeg, \*.webp, \*.bmp*. 

**–ü–æ–≤—Ç–æ—Ä–µ–Ω–∏—è** –Ω—É–∂–Ω—ã —á—Ç–æ–±—ã –∫–æ–Ω—Ç—Ä–æ–ª–ª–∏—Ä–æ–≤–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—Ä–µ–º–µ–Ω–∏ —Ç—Ä–µ–Ω–∏—Ä—É–µ–º—ã—Ö –∫–æ–Ω—Ü–µ–ø—Ç–æ–≤ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –≤—Å–µ–≥–æ –¥–∞—Ç–∞—Å—Ç–µ—Ç–∞. –í —Å–ª—É—á–∞–µ —Å –æ–¥–Ω–æ–π –ø–∞–ø–∫–æ–π –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±—É–¥–µ—Ç –ø—Ä–æ—Å—Ç–æ –ø–æ–¥–æ–≥–Ω–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π –ø–æ–¥ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ, –æ—Ç 200 –¥–æ 600 –∏—Ç–µ—Ä–∞—Ü–∏–π –Ω–∞ —ç–ø–æ—Ö—É. –í —Å–ª—É—á–∞–µ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –ª—É—á—à–µ —É–¥–µ—Ä–∂–∏–≤–∞—Ç—å –±–∞–ª–∞–Ω—Å —Ç—Ä–µ–Ω–∏—Ä—É–µ–º—ã—Ö —á–∞—Å—Ç–µ–π, –≤—ã—Å—Ç–∞–≤–∏–≤ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º. –ù–∞–ø—Ä–∏–º–µ—Ä, —É –≤–∞—Å –µ—Å—Ç—å –ø–∞–ø–∫–∞ *1_nekochan* —Å 76 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏ –≤–Ω—É—Ç—Ä–∏ –∏ –ø–∞–ø–∫–∞ *6_maid* —Å 16 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏ –≤–Ω—É—Ç—Ä–∏. –°—É–º–º–∞—Ä–Ω–æ —ç—Ç–æ –¥–∞—Å—Ç 172 (1 \* 76 + 6 \* 16) –∏—Ç–µ—Ä–∞—Ü–∏–π –Ω–∞ —ç–ø–æ—Ö—É –∏–∑ —ç—Ç–∏—Ö –ø–∞–ø–æ–∫, –∏ –Ω–µ–π—Ä–æ–Ω–Ω–∞—è —Å–µ—Ç—å –±—É–¥–µ—Ç –æ–±—É—á–∞—Ç—å—Å—è –ø–æ –≤—Ä–µ–º–µ–Ω–∏ —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –∫–æ–Ω—Ü–µ–ø—Ç–∞–º.

!!! info –†–µ–≥—É–ª—è—Ä–∏–∑–∞—Ü–∏–æ–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è –¥–∞–Ω–Ω–æ–≥–æ —Å–ø–æ—Å–æ–±–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –Ω–µ —Ç—Ä–µ–±—É—é—Ç—Å—è –∏ –ª—É—á—à–µ –æ–±–æ–π—Ç–∏—Å—å –±–µ–∑ –Ω–∏—Ö.

***

## –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞

–ü–æ —Å–æ—Å—Ç–æ—è–Ω–∏—é –Ω–∞ 03.10.2023 —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∫–∞–∫ –º–∏–Ω–∏–º—É–º —Ç—Ä–∏ GUI-–æ–±—ë—Ä—Ç–∫–∏ –¥–ª—è [sd-scripts](https://github.com/kohya-ss/sd-scripts), –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è —Å–∫—Ä–∏–ø—Ç–æ–≤ –¥–ª—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏:
[1)](https://github.com/derrian-distro/LoRA_Easy_Training_Scripts) –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—Å—Ç–∞–≤–∏—Ç –≤—Å–µ –Ω—É–∂–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç –æ–∫—Ä—É–∂–µ–Ω–∏–µ.
[2)](https://github.com/bmaltais/kohya_ss) –¢–æ–∂–µ –∏–∑–±–∞–≤–∏—Ç –æ—Ç –Ω—É–∂–¥—ã –ø–µ—Ä–¥–æ–ª–∏—Ç—å—Å—è —Å —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π, –Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –∏ WebUI, —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä.
[3)](https://github.com/anon-1337/LoRA-train-GUI) –¢—Ä–µ–±—É–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ venv —Å sd-scripts. –ë—ã–ª —Å–æ–∑–¥–∞–Ω –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–º –∞–≤—Ç–æ—Ä–æ–º —ç—Ç–æ–≥–æ –≥–∞–π–¥–∞ –∏ –º–∞–ª–æ —á–µ–º –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ —Å –ø–æ–º–æ—â—å—é —Å–∫—Ä–∏–ø—Ç–∞, –ø–æ—ç—Ç–æ–º—É —Ä—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞, –æ–ø–∏—Å–∞–Ω–Ω–∞—è –≤ –Ω—ë–º, –±—É–¥–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω–∞ –∏ –∑–¥–µ—Å—å.

#### –°—É—Ç—å
–°—É—Ç—å –ª—é–±–æ–π —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –ª–æ—Ä—ã –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ –ø–æ–ø–∞–¥–∞–Ω–∏–∏ –≤ —Å–≤–∏—Ç—Å–ø–æ—Ç —Å—Ä–∞–∑—É –¥–≤—É—Ö —Å–æ—Å—Ç–∞–≤–Ω—ã—Ö —á–∞—Å—Ç–µ–π Stable diffusion –º–æ–¥–µ–ª–∏, Unet –∏ TE.
-> ![](https://files.catbox.moe/s6tp80.jpg) <-
–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ–¥–±–æ—Ä –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∫–∞–∫ —Ä–∞–∑ –ø–æ–º–æ–∂–µ—Ç –∫–∞–∫ –≤ –ø–æ–ø–∞–¥–∞–Ω–∏–∏ —Å—Ä–∞–∑—É –≤ –æ–±–µ —Å–æ—Å—Ç–∞–≤–ª—è—é—â–∏—Ö, –≤ –≤–∏–¥–µ —é–Ω–µ—Ç–∞ –∏ —Ç–µ, —Ç–∞–∫ –∏ –≤ —Ä–∞—Å—Ç—è–≥–∏–≤–∞–Ω–∏–∏ —ç—Ç–æ–≥–æ –æ–∫–Ω–∞ —Å–≤–∏—Ç—Å–ø–æ—Ç–∞, –ø–æ—Å—Ä–µ–¥—Å—Ç–≤–æ–º –≥—Ä–∞–º–æ—Ç–Ω–æ–≥–æ –∑–∞–º–µ–¥–ª–µ–Ω–∏—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏.

#### Easy way

–°–Ω–∞—á–∞–ª–∞ –±—É–¥–µ—Ç –ø–æ–∫–∞–∑–∞–Ω –ø—Ä–æ—Å—Ç–æ–π –ø—É—Ç—å –¥–ª—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫, –¥–ª—è —Ç–µ—Ö –∫—Ç–æ –Ω–µ —Ö–æ—á–µ—Ç –ø–µ—Ä–¥–æ–ª–∏—Ç—å—Å—è —Å–æ —Å–∫—Ä–∏–ø—Ç–∞–º–∏ –∏ –ø—Ä–æ—á–∏–º–∏ –ø—Ä–æ–±–ª–µ–º–∞–º–∏.
1) –ü–æ—Å—Ç–∞–≤–∏—Ç—å [gui –¥–ª—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏](https://github.com/derrian-distro/LoRA_Easy_Training_Scripts).
–ù–∞ –≤–æ–ø—Ä–æ—Å—ã –æ—Ç–≤–µ—á–∞–µ–º —Ç–∞–∫:
Which version of torch do you want to install?? 
‚Äì **2.0.1**
Do you want to install the triton built for torch 2?
‚Äì **n**
Do you want to install the optional cudnn patch for faster training on high end 30X0 and 40X0 cards?
‚Äì **y**
2) –ó–∞–ø—É—Å—Ç–∏—Ç—å –≥—É–π —Å –ø–æ–º–æ—â—å—é **run.bat** –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏.
3) –î–∞–ª–µ–µ –≤—Å—ë –±—É–¥–µ—Ç –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç –≤–∏–¥–µ–æ–∫–∞—Ä—Ç—ã, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–π –±—É–¥–µ—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞. –í–æ—Ç –ø—Ä–∏–º–µ—Ä—ã –∫–æ–Ω—Ñ–∏–≥–æ–≤ –¥–ª—è [8](https://files.catbox.moe/vo0dbu.toml), [12](https://files.catbox.moe/2vhu6r.toml) –∏ [24](https://files.catbox.moe/9de21x.toml) –≥–∏–≥–∞–±–∞–π—Ç–Ω—ã—Ö –≤–∏–¥–µ–æ–∫–∞—Ä—Ç.
==–í–Ω–∏–º–∞–Ω–∏–µ, –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö **Training precision** –∏ **Saving precision** –∫–æ–Ω—Ñ–∏–≥–æ–≤ –≤—ã—Å—Ç–∞–≤–ª–µ–Ω–∞ **BF16** —Ç–æ—á–Ω–æ—Å—Ç—å, –µ—Å–ª–∏ –≤–∞—à–∞ GPU –Ω–∏–∂–µ –ª–∏–Ω–µ–π–∫–∏ RTX3000, –Ω–∞—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ —Å–æ–≤–µ—Ç—É—é —Å–º–µ–Ω–∏—Ç—å —ç—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–∞ **FP16** –≤–æ –∏–∑–±–µ–∂–∞–Ω–∏–∏ –¥–∞–ª—å–Ω–µ–π—à–∏—Ö –ø—Ä–æ–±–ª–µ–º.== 
–ü–æ—Å–ª–µ –∏—Ö –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –≤ –Ω–∏—Ö –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –ø–æ–¥–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—É—Ç–∏ –∫ –º–æ–¥–µ–ª—è–º/–ª–æ–≥–∞–º —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

- **Base model** - –∑–¥–µ—Å—å –Ω—É–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å —á–µ–∫–ø–æ–∏–Ω—Ç —Å –∫–æ—Ç–æ—Ä–æ–≥–æ –±—É–¥–µ—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä *C:/ai/nai-nsfw.ckpt*
- **–í Saving args > Output folder** - –Ω—É–∂–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –≤ –∫–æ—Ç–æ—Ä—É—é –±—É–¥—É—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è –Ω–æ–≤–æ–∏—Å–ø–µ—á—ë–Ω–Ω—ã–µ –ª–æ—Ä—ã, –Ω–∞–ø—Ä–∏–º–µ—Ä *C:/ai/my-lora-dir*.
- **–í Saving args > Output name** - –Ω—É–∂–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å –∏–º—è –±—É–¥—É—â–µ–π –ª–æ—Ä—ã, –Ω–∞–ø—Ä–∏–º–µ—Ä *my-best-waifu-lora*.
- **–í Logging args > Log output directory** - —Å–ª–µ–¥—É–µ—Ç —É–∫–∞–∑—ã–≤–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è –ª–æ–≥–æ–≤ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä *C:/ai/my-lora-logs*.
- **–í Logging args > Prefix for log folders** - —Å—Ç–æ–∏—Ç —É–∫–∞–∑–∞—Ç—å –ø—Ä–µ—Ñ–∏–∫—Å –ª–æ–≥–æ–≤, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –≤ –Ω–∞—á–∞–ª–æ –Ω–∞–∑–≤–∞–Ω–∏–π –∏—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π, –Ω–∞–ø—Ä–∏–º–µ—Ä *my-best-waifu-logs-*.
- –ü–æ—Å–ª–µ —Å—Ç–æ–∏—Ç –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **Subset args** –∏ –Ω–∞–∂–∞—Ç—å –Ω–∞ –∫–Ω–æ–ø–∫—É **Add all subfolders from folder** –∏ —É–∫–∞–∑–∞—Ç—å –Ω–∞ –ø—É—Ç—å –∫ –¥–∞—Ç–∞—Å–µ—Ç—É, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –∏–∑ —Å–µ–±—è –ø–∞–ø–∫—É, –≤ –∫–æ—Ç–æ—Ä–æ–π —Å–æ–¥–µ—Ä–∂–∞—Ç—Å—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –≤–∏–¥–∞ 2_my-waifu-pics, –Ω–∞–ø—Ä–∏–º–µ—Ä *C:/sikret-folder/fap-pictures-with-my-waifu*. –ó–¥–µ—Å—å —Ç–∞–∫ –∂–µ —Å—Ç–æ–∏—Ç –ø–æ—Å—Ç–∞–≤–∏—Ç—å –≥–∞–ª–æ—á–∫–∏ *shuffle captions* –Ω–∞ —á–∞—Å—Ç—è—Ö –¥–∞—Ç–∞—Å–µ—Ç–∞, –≥–¥–µ —ç—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ.

–î–∞–ª–µ–µ, –∫–∞–∫ –≤—Å–µ –ø—É—Ç–∏ —Ä–∞—Å—Å—Ç–∞–≤–ª–µ–Ω—ã –≤–µ—Ä–Ω–æ, –Ω—É–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É, –Ω–∞–∂–∞–≤ –Ω–∞ –∫–Ω–æ–ø–∫—É **Start training**.
4) –ö–∞–∫ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è –≤ –ø–∞–ø–∫–µ, –∫–æ—Ç–æ—Ä–∞—è —É–∫–∞–∑–∞–Ω–∞ –≤ —Å—Ç—Ä–æ–∫–µ Output Folder, —Ä–∞–∑–¥–µ–ª–∞ Saving args, –ø–æ—è–≤—è—Ç—Å—è —ç–ø–æ—Ö–∏ –Ω–∞—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ª–æ—Ä. –î–∞–ª–µ–µ –≤–Ω—É—Ç—Ä–∏ –∫–∞—Ç–∞–ª–æ–≥–∞ –≤–µ–±—É–∏ **stable-diffusion-webui\models\Lora** —Å—Ç–æ–∏—Ç —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –∏ –∑–∞–∫–∏–Ω—É—Ç—å —Å–≤–µ–∂–µ—Å–æ–∑–¥–∞–Ω–Ω—ã–µ —Å–µ—Ç–∏ —Ç—É–¥–∞ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –≤–µ–±—É–∏.
5) –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–µ –ª–æ—Ä—ã –º–æ–∂–Ω–æ —Ä–∞–∑–Ω—ã–º–∏ —Å–ø–æ—Å–æ–±–∞–º–∏, —á–µ–º –±–æ–ª—å—à–µ —Ç–µ—Å—Ç–æ–≤ –≤—ã –ø—Ä–æ–≥–æ–Ω–∏—Ç–µ, —Ç–µ–º –ª—É—á—à–µ –±—É–¥—É—Ç–µ –∑–Ω–∞—Ç—å –æ –ø–ª—é—Å–∞—Ö –∏ –º–∏–Ω—É—Å–∞—Ö –ø–æ–ª—É—á–∏–≤—à–∏—Ö—Å—è –Ω–µ—Ç–≤–æ—Ä–∫–æ–≤, —Ç–∞–∫ –∂–µ —Ç–µ—Å—Ç—ã –ø–æ–º–æ–≥—É—Ç –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Å–∞–º—É—é —Å–æ—á–Ω—É—é —ç–ø–æ—Ö—É.
- –ü–µ—Ä–≤—ã–π –ø—Ä–∏–º–µ—Ä —Ç–µ—Å—Ç–æ–≤ –≥—Ä–∏–¥ —Å –≤–µ—Å–∞–º–∏ –∏ –ª–æ—Ä–∞–º–∏: –î–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è XYZ –ø–ª–æ—Ç–∞ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ [–∞–¥–¥–Ω–µ—Ç–æ–≤](https://github.com/kohya-ss/sd-webui-additional-networks). 
==–í–Ω–∏–º–∞–Ω–∏–µ, –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Additinal networks –Ω—É–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –ø—É—Ç—å –¥–ª—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –ª–æ—Ä, —á—Ç–æ–±—ã –æ–Ω–∏ –ø–æ–¥—Ö–≤–∞—Ç—ã–≤–∞–ª–∏—Å—å –∏–∑ –¥–µ—Ñ–æ–ª—Ç–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –≤–µ–±—É–∏.==
-> ![](https://files.catbox.moe/hdm2ks.png) <-
–ß—Ç–æ–±—ã –±—ã—Å—Ç—Ä–æ –≤—ã—Å—Ç–∞–≤–∏—Ç—å –∂–µ–ª–∞–µ–º—ã–µ —Å–µ—Ç–∏ –≤ –≥—Ä–∏–¥, –Ω—É–∂–Ω–æ —Å–ø–µ—Ä–≤–∞ –≤—ã–±—Ä–∞—Ç—å –æ–¥–Ω—É –∏–∑ —Å–≤–µ–∂–µ—Å–æ–∑–¥–∞–Ω–Ω—ã—Ö —Å–µ—Ç–µ–π –≤ –º–µ–Ω—é Additional networks, –∑–∞–æ–¥–Ω–æ –Ω–µ –∑–∞–±—ã–≤ –Ω–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É Enable. –ó–∞—Ç–µ–º –≤–Ω–∏–∑—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤—ã–±—Ä–∞—Ç—å —Å–∫—Ä–∏–ø—Ç X/Y/Z plot –≤ **X type** –≤—ã–±—Ä–∞—Ç—å **AddNet Model 1** –∏ –Ω–∞–∂–∞—Ç—å –Ω–∞ –∫–Ω–æ–ø–∫—É üìí –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ–º–∏ –Ω–æ–≤—ã–º–∏ –ª–æ—Ä–∞–º–∏ –∏–∑ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏, –≤ **Y type** —Å—Ç–æ–∏—Ç –≤—ã–±—Ä–∞—Ç—å **AddNet Weight 1** –∏ –≤—ã—Å—Ç–∞–≤–∏—Ç—å –¥–∏–∞–ø–∞–∑–æ–Ω –≤–µ—Å–æ–≤ –ª–æ—Ä, –Ω–∞–ø—Ä–∏–º–µ—Ä **0.7-1.5 \[5\]** –¥–∞—Å—Ç –∑–Ω–∞—á–µ–Ω–∏—è 0.7, 0.9, 1.1, 1.3, 1.5. –°–∫—Ä–∏–Ω—à–æ—Ç –Ω–∏–∂–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫ –¥–æ–ª–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å—Å—è –≤ –∏—Ç–æ–≥–µ –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –≥—Ä–∏–¥–∞.
    –í–∑–≥–ª—è–Ω—É–≤ –Ω–∞ –≥—Ä–∏–¥ –º–æ–∂–Ω–æ –ø—Ä–∏–º–µ—Ä–Ω–æ –ø–æ–Ω—è—Ç—å –Ω–∞ –∫–∞–∫–æ–π —ç–ø–æ—Ö–µ —Å–µ—Ç—å –Ω–∞—Ç—Ä–µ–Ω–∏–ª–∞—Å—å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ, –µ—Å–ª–∏ —ç—Ç–æ –≤–ø—Ä–∏–Ω—Ü–∏–ø–µ –ø—Ä–æ–∏–∑–æ—à–ª–æ –∏ —Å–µ—Ç—å –Ω–µ –ø–æ–ª—É—á–∏–ª–∞—Å—å –Ω–µ–¥–æ—Ç—Ä–µ–Ω–µ–Ω–Ω–æ–π. –î–ª—è —Å–æ–≤—Å–µ–º –∂–µ –ª–µ–Ω–∏–≤—ã—Ö, –º–æ–∂–Ω–æ –±—É–¥–µ—Ç –ø—Ä–æ—Å—Ç–æ –≤–∑—è—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π —á–µ–∫–ø–æ–∏–Ω—Ç, –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –ø–æ—Å–ª–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –∏ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –µ–≥–æ –≤ –¥–µ–ª–µ. –ü–µ—Ä–µ–∂–∞—Ä —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ —ç–Ω–∫–æ–¥–µ—Ä–∞ –±—É–¥–µ—Ç –≤—ã—Ä–∞–∂–∞—Ç—å—Å—è –≤ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∑–∞–ø—Ä–æ–º–ø—Ç–∏—Ç—å —á—Ç–æ-—Ç–æ –∫—Ä–æ–º–µ —Ç–æ–≥–æ, —á—Ç–æ –±—ã–ª–æ –≤ —Ç–µ–≥–∞—Ö –¥–∞—Ç–∞—Å–µ—Ç–∞, –ø–µ—Ä–µ–∂–∞—Ä —é–Ω–µ—Ç–∞ –≤—Å—è–∫–æ–≥–æ —Ä–æ–¥–∞ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞–º–∏, —Å–∏–ª—å–Ω—ã–º –ø–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞–Ω–∏–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –∏–Ω–ø–µ–∏–Ω—Ç–µ, –∏2–∏ –∏–ª–∏ —Ö–∞–π—Ä–µ–∑–µ, –∞ —Ç–∞–∫–∂–µ —Ä–∞–∑–Ω—ã–º–∏ –Ω–µ–∂–µ–ª–∞—Ç–µ–ª—å–Ω—ã–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏ –¥–∞–∂–µ –Ω–∞ –ª–æ—É—Ä–µ–∑–Ω—ã—Ö –ø–∏–∫—á–∞—Ö, –ø–æ —Ç–∏–ø—É –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Ä—É–∫, –Ω–µ –≤ —Ç–µ–º—É –ª–µ—Ç–∞—é—â–µ–π –≥–¥–µ —Ç–æ —Ä—è–¥–æ–º —Ö–µ—Ä–Ω–∏ –æ—Ç —Ñ–æ–Ω–∞. –ù–µ–¥–æ–∂–∞—Ä –∂–µ –º–æ–∂–Ω–æ –±—É–¥–µ—Ç –ø–æ–Ω—è—Ç—å –ø–æ —Å–ª–∞–±–æ–º—É –≤–æ–∑–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—é —Ç—Ä–µ–Ω–∏—Ä—É–µ–º–æ–≥–æ –∫–æ–Ω—Ü–µ–ø—Ç–∞/—Å—Ç–∏–ª—è. –ü–æ–¥—Ä–æ–±–Ω–µ–µ –ø—Ä–æ –ø—Ä–∏–º–µ—Ä–Ω—ã–µ —Ö–æ—Ä–æ—à–∏–µ –±–∞–∑–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤ —Ä–∞–∑–¥–µ–ª–µ [–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏](#–ø–∞—Ä–∞–º–µ—Ç—Ä—ã-—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏).
1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–¥–¥–Ω–µ—Ç–æ–≤ –∏ —Å–∫—Ä–∏–ø—Ç–∞ –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –≥—Ä–∏–¥–∞ | 2. –ì—Ä–∏–¥ —Å –ø—Ä–∏–º–µ—Ä–æ–º, –≥–¥–µ –ø–æ—Å–ª–µ–¥–Ω—è—è —ç–ø–æ—Ö–∞ –≤—ã—à–ª–∞ —Ö–æ—Ä–æ—à–µ–π, –Ω–æ –º–æ–∂–Ω–æ –±—ã–ª–æ —Ç—Ä–µ–Ω–∏—Ç—å –∏ –¥–∞–ª—å—à–µ, –∏—Å—Ö–æ–¥—è –∏–∑ —Ç–æ–≥–æ, —á—Ç–æ –Ω–∞ 1.5 —Å–∏–ª–µ –≤—Å—ë –µ—â—ë –Ω–µ—Ç—É —Å–∏–ª—å–Ω—ã—Ö –ø–æ–ª–æ–º–æ–∫ –∫–∞—Ä—Ç–∏–Ω–∫–∏
------ | ------
[![–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–¥–¥–Ω–µ—Ç–æ–≤](https://files.catbox.moe/4fdsde.png)](https://files.catbox.moe/4fdsde.png) | [![–ì—Ä–∏–¥ —Å –Ω–µ–±–æ–ª—å—à–∏–º –∞–Ω–¥–µ—Ä—Ñ–∏—Ç–æ–º](https://files.catbox.moe/xe7f96.jpg)](https://files.catbox.moe/xe7f96.jpg)

- –û–¥–Ω–∞–∫–æ —Ç–∞–∫–æ–π —Å–ø–æ—Å–æ–± –º–æ–∂–µ—Ç –æ–∫–∞–∑–∞—Ç—å—Å—è –ø–ª–æ—Ö –∏–∑-–∑–∞ —á–µ—Ä—Ä–∏–ø–∏–∫–∏–Ω–≥–∞ —É–¥–∞—á–Ω–æ –∏–ª–∏ –Ω–µ—É–¥–∞—á–Ω–æ –ø–æ–ø–∞–≤—à–µ–≥–æ—Å—è —Å–∏–¥–∞, –≤–∞–∂–Ω–æ —Ç–∞–∫ –∂–µ –≤–∑–≥–ª—è–Ω—É—Ç—å –Ω–∞ –≥—Ä–∏–¥ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Å–∏–¥–∞–º–∏, –¥–∞–±—ã –∏–º–µ—Ç—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –æ –ø–µ—Ä—Ñ–æ—Ä–º–∞–Ω—Å–µ –Ω–µ—Ç–≤–æ—Ä–∫–æ–≤ –≤ —Ü–µ–ª–æ–º, –¥–ª—è —ç—Ç–æ–≥–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ **Y type** –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ **Seed** –∏ –≤–ø–∏—Å–∞—Ç—å —Ç—É–¥–∞ –∑–Ω–∞—á–µ–Ω–∏–µ **-1--1 \[8\]**. –¢–∞–∫ –∂–µ –±—ã–ª–æ –±—ã –Ω–µ–ø–ª–æ—Ö–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ —Ç–∞–∫–æ–º —Å–ª—É—á–∞–µ –≤–∞–π–ª–¥–∫–∞—Ä–¥ –Ω–∞ —Ñ–æ–Ω—ã –ø—Ä—è–º–æ –≤ –ø—Ä–æ–º–ø—Ç–µ, —á—Ç–æ–±—ã –∫–æ—Å–≤–µ–Ω–Ω–æ –æ—Ü–µ–Ω–∏—Ç—å –≤–ª–∏—è–Ω–∏–µ –Ω–∞ –Ω–∏—Ö —Å–≤–µ–∂–µ—Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –ª–æ—Ä.

-> [![](https://files.catbox.moe/syko7z.jpg)](https://files.catbox.moe/syko7z.jpg) <-


6) –ö–æ–≥–¥–∞ –≥–æ–¥–Ω–∞—è —ç–ø–æ—Ö–∞ —É–∂–µ –Ω–∞–π–¥–µ–Ω–∞, –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –µ—â—ë –æ–¥–Ω—É –≤–µ—â—å, —Å–Ω–∏–∑–∏—Ç—å —Ä–∞–Ω–≥ –º–æ–¥–µ–ª–∏, —ç—Ç–æ –µ–¥–≤–∞ –ª–∏ —É—Ö—É–¥—à–∏—Ç –∫–∞—á–µ—Å—Ç–≤–æ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º—ã—Ö –ø–∏–∫—á, –Ω–æ –ø–æ–º–æ–∂–µ—Ç —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –º–µ—Å—Ç–æ, –æ—Å–æ–±–µ–Ω–Ω–æ –µ—Å–ª–∏ —Ç–∞–∫–∏—Ö —Å–µ—Ç–µ–π —É–∂–µ —Å–∫–æ–ø–∏–ª–æ—Å—å –¥–æ–≤–æ–ª—å–Ω–æ –≤–µ—Å–æ–º–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏ –∫–∞–∂–¥–∞—è –≤–µ—Å–∏—Ç –ø–æ 150–º–±.
	–°–¥–µ–ª–∞—Ç—å —ç—Ç–æ –º–æ–∂–Ω–æ [—Å –ø–æ–º–æ—â—å—é anon1337-gui](https://files.catbox.moe/ghrks9.png), –ª–∏–±–æ –∂–µ –≤—Ä—É—á–Ω—É—é, –ø—Ä–æ—Å—Ç–æ –Ω–∞–π–¥–∏—Ç–µ –ø–∞–ø–∫—É —Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º–∏ sd-scripts, –±—É–¥—å —Ç–æ —Ä—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –≥—É—è, –¥–∞–ª–µ–µ –≤–≤–µ–¥–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã –≤ –∫–æ–Ω—Å–æ–ª—å –ø–∞–≤–µ—Ä—à–µ–ª–ª–∞, –æ—Ç–∫—Ä—ã—Ç—É—é –≤ —ç—Ç–æ–π –ø–∞–ø–∫–µ:
	```powershell
	.\venv\Scripts\activate.ps1
	python .\networks\resize_lora.py --save_precision bf16 --new_rank 32 --save_to "A:\tmp\derrian-tmp\output-test-8gb\40hara-test-000015-32rank.safetensors" --model "A:\tmp\derrian-tmp\output-test-8gb\40hara-test-000015.safetensors" --device cuda --dynamic_method sv_fro --dynamic_param 0.9
    ```
	*–ù–∞–¥—ë–∂–Ω—ã–º* —Ä–∞–Ω–≥–æ–º –¥–ª—è —Ä–µ—Å–∞–π–∑–∞ –º–æ–∂–Ω–æ —Å—á–∏—Ç–∞—Ç—å –Ω–µ –Ω–∏–∂–µ 32. –†–∞–Ω–≥–∏ —Å 8 –ø–æ 24 –º–æ–≥—É—Ç –ø–æ–º–æ—á—å —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ —Ö–ª–∞–º –ø–µ—Ä–µ–∂–∞—Ä–µ–Ω–Ω—É—é —Å–µ—Ç—å, –µ—Å–ª–∏ —Ä–µ—Å–∞–π–∑–∏—Ç—å –µ—ë –≤ –Ω–∏—Ö, —Ç–∞–º —É–∂–µ –∏–¥—ë—Ç –ø–æ—Ç–µ—Ä—è –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏–∑ –Ω–µ—Ç–≤–æ—Ä–∫–∞. [–ù–∞ —ç—Ç–æ–º –≥—Ä–∏–¥–µ](https://files.catbox.moe/dq8loo.png) c –Ω–µ–º–Ω–æ–≥–æ –Ω–µ–¥–æ—Ç—Ä–µ–Ω–µ–Ω–Ω–æ–π —Å–µ—Ç—å—é –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ –≤–∏–¥–Ω–æ, –∫–∞–∫–æ–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤–ª–∏—è–Ω–∏–µ —Ä–µ—Å–∞–π–∑–∞, —Ç–µ–º –±–æ–ª–µ–µ –≤ 16 —Ä–∞–Ω–≥, –æ—Å–æ–±–µ–Ω–Ω–æ –µ—Å–ª–∏ —Å–µ—Ç—å –Ω–µ–¥–æ—Ç—Ä–µ–Ω–µ–Ω–∞, –Ω–∞ –≤—Ç–æ—Ä–æ–π —Å—Ç—Ä–æ–∫–µ —Å —Å–∏–¥–æ–º.

#### –†—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–ª—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ —Å –ø–æ–º–æ—â—å—é —Å–∫—Ä–∏–ø—Ç–∞, –ª–∏–±–æ LoRA-train-GUI

1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –≤ –ª—é–±—É—é –ø–∞–ø–∫—É: ```git clone https://github.com/kohya-ss/sd-scripts.git```, –ª–∏–±–æ –∂–µ –ø—Ä–æ—Å—Ç–æ –≤ —Ä—É—á–Ω—É—é —Å–∫–∞—á–∞—Ç—å –µ–≥–æ [–æ—Ç—Å—é–¥–∞](https://github.com/kohya-ss/sd-scripts)
2. –û—Ç–∫—Ä—ã—Ç—å PowerShell –∏ –ø–æ–æ—á–µ—Ä—ë–¥–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–º–∞–Ω–¥—ã, –ª–∏–±–æ –∂–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å [—Å–∫—Ä–∏–ø—Ç](https://files.catbox.moe/ungey0.ps1) –≤–Ω—É—Ç—Ä–∏ —Å–≤–µ–∂–µ–π –ø–∞–ø–∫–∏ —Å sd-scripts:
```powershell
Set-Location <–ø—É—Ç—å –∫ –ø–∞–ø–∫–µ sd-scripts> # –ü–µ—Ä–µ—Ö–æ–¥–∏–º –≤ –∫–∞—Ç–∞–ª–æ–≥ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

python -m venv venv # –°–æ–∑–¥–∞—ë–º –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
.\venv\Scripts\activate # –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –µ–≥–æ

# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º torch –∏ torchvision, xformers, –∞ —Ç–∞–∫–∂–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install torch torchvision --index-url https://download.pytorch.org/whl/cu118
pip install --upgrade -r requirements.txt
pip install xformers==0.0.21
pip install dadaptation==3.1 lycoris_lora
pip install bitsandbytes==0.35.0

# –ö–æ–ø–∏—Ä—É–µ–º —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–¥ Windows CUDA –±–∏–±–ª–∏–æ—Ç–µ–∫–∏, –≤—Ä—É—á–Ω—É—é –∏–ª–∏ –∫–æ–º–∞–Ω–¥–∞–º–∏. –ù–∞ Linux —ç—Ç–æ—Ç —à–∞–≥ –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω
cp .\bitsandbytes_windows\*.dll .\venv\Lib\site-packages\bitsandbytes\
cp .\bitsandbytes_windows\cextension.py .\venv\Lib\site-packages\bitsandbytes\cextension.py
cp .\bitsandbytes_windows\main.py .\venv\Lib\site-packages\bitsandbytes\cuda_setup\main.py

accelerate config
```
3. –ü–æ—Å–ª–µ –ø–æ—Å–ª–µ–¥–Ω–µ–π –∫–æ–º–∞–Ω–¥—ã —Ç–µ—Ä–º–∏–Ω–∞–ª –Ω–∞—á–Ω—ë—Ç –∑–∞–¥–∞–≤–∞—Ç—å –≤–æ–ø—Ä–æ—Å—ã, –≤—ã–±—Ä–∞—Ç—å —Å–ª–µ–¥—É—é—â–µ–µ:
In which compute environment are you running? 
‚Äì **This machine**
Which type of machine are you using?
‚Äì **No distributed training**
Do you want to run your training on CPU only (even if a GPU is available)?
‚Äì **NO**
Do you wish to optimize your script with torch dynamo?
‚Äì **NO**
Do you want to use DeepSpeed?
‚Äì **NO**
What GPU(s) (by id) should be used for training on this machine as a comma-seperated list?
‚Äì  **0** –∏–ª–∏ **all**
Do you wish to use FP16 or BF16 (mixed precision)?
‚Äì **fp16** –∏–ª–∏ **bf16**
!!! info BF16 > FP16
    –ï—Å–ª–∏ –∂–µ–ª–µ–∑–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç BF16 (rtx 3000 –∏ –≤—ã—à–µ), –ª—É—á—à–µ –≤—ã–±—Ä–∞—Ç—å –µ–≥–æ. –ü–æ—á–µ–º—É, –º–æ–∂–Ω–æ –ø–æ—á–∏—Ç–∞—Ç—å –ø–æ–¥—Ä–æ–±–Ω–µ–µ –≤ –æ–ø–∏—Å–∞–Ω–∏–∏ [–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤](#–ø–∞—Ä–∞–º–µ—Ç—Ä—ã-—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏).
!!! info –ï—Å–ª–∏ PowerShell —Å—ã–ø–µ—Ç –æ—à–∏–±–∫–∞–º–∏ –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ —Å—Ç—Ä–µ–ª–æ—á–∫–∏
	–í—ã–∫–ª—é—á–∏—Ç—å NumLock –Ω–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–µ, –≤—ã–±–∏—Ä–∞—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç—ã –ø—Ä–∏ –ø–æ–º–æ—â–∏ –∫–Ω–æ–ø–æ–∫ 8 –∏ 2 –Ω–∞ –Ω–∞–º–ø–∞–¥–µ. [–ï—Å–ª–∏ –Ω–∞–º–ø–∞–¥–∞ –Ω–µ—Ç](https://i.imgur.com/ARViwie.png).

4. –°–∫–∞—á–∞—Ç—å [—Å–∫—Ä–∏–ø—Ç](https://files.catbox.moe/3k6pbx.ps1)
!!! info PowerShell
	–î–∞–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è PowerShell, –Ω–æ —ç—Ç–æ –Ω–µ –∑–Ω–∞—á–∏—Ç —á—Ç–æ –æ–Ω –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –≤–µ—Ä—Å–∏–π Windows. –ù–µ –≤—Å–µ –∑–Ω–∞—é—Ç, –Ω–æ [PowerShell –¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è –≤—Å–µ—Ö –≤–µ—Ä—Å–∏–π Windows –Ω–∞—á–∏–Ω–∞—è —Å XP, –Ω–∞ Linux, –∞ —Ç–∞–∫–∂–µ –Ω–∞ macOS](https://github.com/PowerShell/PowerShell/releases).

5. –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞
–û—Ç–∫—Ä—ã—Ç—å —Å–∫—Ä–∏–ø—Ç –ª—é–±—ã–º —Ç–µ–∫—Å—Ç–æ–≤—ã–º —Ä–µ–¥–∞–∫—Ç–æ—Ä–æ–º –∏ –∏–∑–º–µ–Ω–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤–≤–µ—Ä—Ö—É —Ñ–∞–π–ª–∞ –ø–æ–¥ —Å–≤–æ–∏ –Ω—É–∂–¥—ã. –û–ø–∏—Ä–∞—è—Å—å –Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é, –∫–æ—Ç–æ—Ä—É—é –º–æ–∂–Ω–æ –ø—Ä–æ—á–∏—Ç–∞—Ç—å –≤ —Ä–∞–∑–¥–µ–ª–µ [–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏](#–ø–∞—Ä–∞–º–µ—Ç—Ä—ã-—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏). –ö–∞–∫ –º–∏–Ω–∏–º—É–º —Å—Ç–æ–∏—Ç —É–∫–∞–∑–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—É—Ç–∏ –∫ –¥–∞—Ç–∞—Å–µ—Ç—É, –º–æ–¥–µ–ª—è–º –∏ –ø–∞–ø–∫–µ —Å sd-scripts.

6. –ó–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–∞
!!! note –ï—Å–ª–∏ –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø–æ –¥–≤–æ–π–Ω–æ–º—É —â–µ–ª—á–∫—É
	–í –ø–∞–ø–∫–µ —Å–æ —Å–∫—Ä–∏–ø—Ç–æ–º –ü–ö–ú –≤ —Å–≤–æ–±–æ–¥–Ω–æ–º –º–µ—Å—Ç–µ \-> "–û—Ç–∫—Ä—ã—Ç—å –≤ –¢–µ—Ä–º–∏–Ω–∞–ª–µ" \-> –≤–≤–µ—Å—Ç–∏ **.\–Ω–∞–∑–≤–∞–Ω–∏–µ_—Å–∫—Ä–∏–ø—Ç–∞.ps1** –∏ –Ω–∞–∂–∞—Ç—å Enter.

***

## –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏

### --learning_rate ($learning_rate –≤ —Å–∫—Ä–∏–ø—Ç–µ)
–°–∫–æ—Ä–æ—Å—Ç—å –æ–±—É—á–µ–Ω–∏—è. –û—Å–Ω–æ–≤–Ω–æ–π —Ä—ã—á–∞–≥ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ–±—É—á–µ–Ω–∏–µ–º, –µ—Å–ª–∏ –ø–æ—Å—Ç–∞–≤–∏—Ç—å —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–µ —á–∏—Å–ª–æ, —Å–µ—Ç—å –±—É–¥–µ—Ç —É—á–∏—Ç—å—Å—è –∏–∑ –ø–æ–¥ –ø–∞–ª–∫–∏ –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –±—É–¥–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ –ø–µ—Ä–µ–∂–∞—Ä–µ–Ω, –µ—Å–ª–∏ –ø–æ—Å—Ç–∞–≤–∏—Ç—å –º–∞–ª–µ–Ω—å–∫–æ–µ —á–∏—Å–ª–æ, —Å–µ—Ç—å –±—É–¥–µ—Ç —É—á–∏—Ç—å—Å—è —Å–ª–∏—à–∫–æ–º –ª–µ–Ω–∏–≤–æ –∏ –¥–æ–ª–≥–æ, —á—Ç–æ —Å–æ–≤—Å–µ–º –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Ç–∞–∫–æ–≥–æ –±—ã—Å—Ç—Ä–æ–≥–æ –º–µ—Ç–æ–¥–∞ –æ–±—É—á–µ–Ω–∏—è –∫–∞–∫ –ª–æ—Ä—ã. –≠—Ç–æ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä —Ü–µ–ª–∏–∫–æ–º –∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –¥—Ä—É–≥–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∞ —Ç–∞–∫ –∂–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∫–∞—Ä—Ç–∏–Ω–æ–∫ –≤ –¥–∞—Ç–∞—Å–µ—Ç–µ:

- –î–ª—è AdamW8bit –æ–ø—Ç–∏–º–∞–π–∑–µ—Ä–∞ - —Ö–æ—Ä–æ—à–∏–º —Å—Ç–æ–∫–æ–≤—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º —è–≤–ª—è–µ—Ç—Å—è **1e-4 (0.0001)** —Å network_dim=network_alpha=64-128.
- –î–ª—è –∞–¥–∞–ø—Ç–∏–≤–Ω—ã—Ö –æ–ø—Ç–∏–º–∞–π–∑–µ—Ä–æ–≤, —Ç–∞–∫–∏—Ö –∫–∞–∫ DAdaptation, Prodigy –∑–Ω–∞—á–µ–Ω–∏–µ —ç—Ç–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–∫–∞–∑—ã–≤–∞—Ç—å –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ—Ä—è–¥–∫–æ–≤ –≤—ã—à–µ, 0.5-2.0, –Ω–æ —Ö–æ—Ä–æ—à–∏–º –¥–µ—Ñ–æ–ª—Ç–æ–º –º–æ–∂–Ω–æ —Å—á–∏—Ç–∞—Ç—å –∏–º–µ–Ω–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ **1.0**. –î–∞–Ω–Ω—ã–µ –æ–ø—Ç–∏–º–∞–π–∑–µ—Ä—ã *by design* —Å–æ–∑–¥–∞–Ω—ã —Ç–∞–∫, —á—Ç–æ–±—ã —É–ø—Ä–∞–∑–¥–Ω–∏—Ç—å —ç—Ç–æ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä, —Å –Ω–∏–º–∏ –æ–Ω –Ω–µ –∏–º–µ–µ—Ç —Ç–∞–∫–æ–π —Å–∏–ª—ã, –∫–∞–∫ —Å –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–º–∏ –∏ —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–∫–æ—Ä–æ—Å—Ç—å—é –æ–±—É—á–µ–Ω–∏—è –ª—É—á—à–µ —Å –ø–æ–º–æ—â—å—é –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Å–∞–º–æ–≥–æ –æ–ø—Ç–∏–º–∞–π–∑–µ—Ä–∞, –ª–∏–±–æ –¥—Ä—É–≥–∏–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏, –æ –≤–ª–∏—è–Ω–∏–∏ –∫–æ—Ç–æ—Ä—ã—Ö –º–æ–∂–Ω–æ –ø—Ä–æ—á–∏—Ç–∞—Ç—å –¥–∞–ª–µ–µ. –£ –∞–¥–∞–ø—Ç–∏–≤–Ω—ã—Ö –æ–ø—Ç–∏–º–∞–π–∑–µ—Ä–æ–≤ —Ç–∞–∫–∂–µ –Ω–µ—Ç—É —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è —ç—Ç–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –Ω–∞ unet_lr –∏ text_encoder_lr, —á—Ç–æ –Ω–µ–º–Ω–æ–≥–æ —É—Å–ª–æ–∂–Ω—è–µ—Ç –∑–∞–¥–∞—á—É –Ω–µ –ø–æ–¥–∂–µ—á—å —Ç–µ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ.

–ù–∞–≥–ª—è–¥–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã –∞–Ω–¥–µ—Ä—Ñ–∏—Ç–∞ (–Ω–µ–¥–æ—Ç—Ä–µ–Ω–∞, –Ω–µ–¥–æ–∂–∞—Ä–∫–∏) –∏ –æ–≤–µ—Ä—Ñ–∏—Ç–∞ (–ø–µ—Ä–µ—Ç—Ä–µ–Ω–∞, –ø–µ—Ä–µ–∂–∞—Ä–∫–∏). –î–ª—è —ç—Ç–∏—Ö –ø—Ä–∏–º–µ—Ä–æ–≤ –±—ã–ª–∏ –≤—ã–∫–ª—é—á–µ–Ω—ã –≤—Å–µ —É–ª—É—á—à–∞–ª–∫–∏, safety measures –∏ –ª–æ–∫–æ–Ω, –∞ —Ç–∞–∫ –∂–µ —É–º–µ–Ω—å—à–µ–Ω –∏ —É–≤–µ–ª–∏—á–µ–Ω –ª—Ä –≤ 10 —Ä–∞–∑ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ.

1. Underfit | 2. Overfit
------ | ------
[![Underfit](https://files.catbox.moe/c9ya4r.png)](https://files.catbox.moe/c9ya4r.png) | [![Overfit](https://files.catbox.moe/ybaxj4.png)](https://files.catbox.moe/ybaxj4.png)

–í –ø–µ—Ä–≤–æ–º —Å–ª—É—á–∞–µ –≤–∏–¥–Ω–æ, —á—Ç–æ –∫–∞—Ä—Ç–∏–Ω–∫–∞ —Å–ª–∞–±–æ –º–µ–Ω—è–µ—Ç—Å—è –≤ —Å—Ç–∏–ª–µ –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –¥–µ—Ñ–æ–ª—Ç–Ω–æ–π, –±–µ–∑ –ª–æ—Ä—ã. –í–æ –≤—Ç–æ—Ä–æ–º –Ω–∞–≥–ª—è–¥–Ω–∞—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –≤–∑—Ä—ã–≤–∞ —é–Ω–µ—Ç–∞ –∏ —Ç–µ –ø—Ä–∏ –æ–≤–µ—Ä—Ñ–∏—Ç–µ, –≥–¥–µ –æ—á–µ–Ω—å –º–Ω–æ–≥–æ –ª–µ–≤–æ–π —Ö–µ—Ä–Ω–∏ –Ω–∞ –∫–∞—Ä—Ç–∏–Ω–∫–µ, –∞ —Ç–∞–∫–∂–µ –ø–æ–≤—ã–ª–µ–∑–∞–ª–∏ –∏ –≥–æ—Ä–Ω–∏—á–Ω–∞—è –∏ –∫–æ—à–∫–∞, —Ö–æ—Ç—è –æ–Ω–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –¥—Ä—É–≥–æ–π —á–∞—Å—Ç–∏ –¥–∞—Ç–∞—Å–µ—Ç–∞ –∏ –≤—ã–∑—ã–≤–∞—é—Ç—Å—è –∞–±—Å–æ–ª—é—Ç–Ω–æ –¥—Ä—É–≥–∏–º–∏ —Ç–µ–≥–∞–º–∏, –æ –ø–ª–∞–≤–Ω–æ—Å—Ç–∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ —Ç—É—Ç –Ω–µ –∏–¥—ë—Ç –¥–∞–∂–µ –∏ —Ä–µ—á–∏.
–î–∞–Ω–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä –º–æ–∂–Ω–æ —Ä–∞–∑–¥–µ–ª–∏—Ç—å –Ω–∞ –¥–≤–∞ —Ä–∞–∑–¥–µ–ª—å–Ω—ã—Ö –ª–µ—Ä–Ω–∏–Ω–≥ —Ä–µ–π—Ç–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —á–∞—Å—Ç–µ–π —Å–¥, –∏—Å–ø–æ–ª—å–∑—É—è –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–µ –æ–ø—Ç–∏–º–∞–π–∑–µ—Ä—ã.

#### --unet_lr ($unet_lr –≤ —Å–∫—Ä–∏–ø—Ç–µ)
–°–∫–æ—Ä–æ—Å—Ç—å –æ–±—É—á–µ–Ω–∏—è UNet. UNet —ç—Ç–æ —Ç–∞–∫–∞—è —á–∞—Å—Ç—å –≤ —Å–¥, –∫–æ—Ç–æ—Ä–∞—è –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –ø–æ—à–∞–≥–æ–≤–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —à—É–º–∞ –≤ –∫–∞—Ä—Ç–∏–Ω–∫–∏, –º–æ–∂–Ω–æ –≥—Ä—É–±–æ —Å–µ–±–µ —ç—Ç–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫—É—é —Å–æ—Å—Ç–∞–≤–ª—è—é—â—É—é, –∫–æ—Ç–æ—Ä–∞—è –∏ –±—É–¥–µ—Ç –∑–∞–ø–æ–º–∏–Ω–∞—Ç—å –Ω–æ–≤—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é. –ò–º–µ–Ω–Ω–æ –¥–ª—è —ç—Ç–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –ø–æ–¥—Ö–æ–¥—è—Ç —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏, —Ä–∞—Å–ø–∏—Å–∞–Ω–Ω—ã–µ –≤ learning_rate.

#### --text_encoder_lr ($text_encoder_lr –≤ —Å–∫—Ä–∏–ø—Ç–µ)
–°–∫–æ—Ä–æ—Å—Ç—å –æ–±—É—á–µ–Ω–∏—è TE - text encoder. –≠—Ç–∞ —á–∞—Å—Ç—å —Å–¥, –∫–æ—Ç–æ—Ä–∞—è –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ç–æ–≥–æ, —á—Ç–æ –ø–∏—à–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ –ø—Ä–æ–º–ø—Ç–µ –≤ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è, –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ –≥–∞–π–¥–∞–Ω—Å–∞ —é–Ω–µ—Ç–∞ –≤–æ —á—Ç–æ –µ–º—É –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤—ã–≤–∞—Ç—å —à—É–º. –ù–µ —Ç–∞–∫–∞—è –∫—Ä—É–ø–Ω–∞—è, –∏ —Å—É–¥—è –ø–æ [–≤–æ—Ç —ç—Ç–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏](https://github.com/cloneofsimo/lora/discussions/37) –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç—Ä–µ–Ω–∏—Ä—É–µ–º—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —É –Ω–µ—ë –ø–æ—á—Ç–∏ –≤—Ç—Ä–æ–µ –º–µ–Ω—å—à–µ –Ω–∞ –æ–¥–∏–Ω–∞–∫–æ–≤–æ–º —Ä–∞–Ω–≥–µ. –ü–æ—ç—Ç–æ–º—É —Ö–æ—Ä–æ—à–∏–º –∑–Ω–∞—á–µ–Ω–∏–µ–º –º–æ–∂–µ—Ç —Å—á–∏—Ç–∞—Ç—å—Å—è unet_lr/2-3, —Ç–æ –µ—Å—Ç—å **3.3e-5 - 5e-5**, –µ—Å–ª–∏ –ª—Ä —é–Ω–µ—Ç–∞ —Ä–∞–≤–µ–Ω 1e-4. 
–†–∞–∑–¥–µ–ª—å–Ω—ã–µ —Å–∫–æ—Ä–æ—Å—Ç–∏ –æ–±—É—á–µ–Ω–∏—è –¥–ª—è unet_lr –∏ —ç—Ç–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –Ω–∞ –∞–¥–∞–ø—Ç–∏–≤–Ω—ã—Ö –æ–ø—Ç–∏–º–∞–π–∑–µ—Ä–∞—Ö –Ω–µ–≤–æ–∑–º–æ–∂–Ω—ã, –ø–æ—ç—Ç–æ–º—É –≤ —Å–ª—É—á–∞–µ —Å –Ω–∏–º–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –Ω—É–∂–Ω–æ —Å—Ç–∞–≤–∏—Ç—å —Ç–∞–∫–∏–º –∂–µ –∫–∞–∫ –∏ learning_rate.

#### --lr_warmup_steps ($lr_warmup_ratio –≤ —Å–∫—Ä–∏–ø—Ç–µ)
–®–∞–≥–∏ —Ä–∞–∑–æ–≥—Ä–µ–≤–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –ª—Ä. –°–∫—Ä–∏–ø—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è –≤—ã—Å—á–∏—Ç—ã–≤–∞–Ω–∏—è —ç—Ç–∏—Ö —à–∞–≥–æ–≤ –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–Ω–æ–º —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–∏. $lr_warmup_ratio - –ø—Ä–æ—Ü–µ–Ω—Ç —à–∞–≥–æ–≤ –Ω–∞—á–∏–Ω–∞—è —Å –ø–µ—Ä–≤–æ–≥–æ, –≤ —Ç–µ—á–µ–Ω–∏–∏ –∫–æ—Ç–æ—Ä—ã—Ö —Å–∫–æ—Ä–æ—Å—Ç—å –æ–±—É—á–µ–Ω–∏—è –ª–∏–Ω–µ–π–Ω–æ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –æ—Ç 0 –¥–æ –∑–Ω–∞—á–µ–Ω–∏—è learning_rate. –ü–æ–ª–µ–∑–µ–Ω —Å –Ω–∏–∑–∫–∏–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ **0.05-0.1**, –ø–æ–º–æ–≥–∞–µ—Ç –ø–ª–∞–≤–Ω–æ –Ω–∞—á–∞—Ç—å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É —Å –º–∞–ª–µ–Ω—å–∫–æ–≥–æ –ª—Ä –∏ [–Ω–µ –ø–µ—Ä–µ–Ω–∞—Å—ã—Ç–∏—Ç—å —Å–µ—Ç—å —Å–ª–∏—à–∫–æ–º —Ä–∞–Ω–æ](https://stackoverflow.com/a/55942518).

### --optimizer_type ($optimizer_t –≤ —Å–∫—Ä–∏–ø—Ç–µ)
–¢–∏–ø –æ–ø—Ç–∏–º–∞–π–∑–µ—Ä–∞, –µ—â—ë –æ–¥–∏–Ω –∏–∑ –≤–∞–∂–Ω–µ–π—à–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤–ª–∏—è—é—â–∏—Ö –Ω–∞ —Ç–æ, –∫–∞–∫ –ø—Ä–∏–¥—ë—Ç—Å—è –ø–æ–¥—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –æ—Å—Ç–∞–ª—å–Ω—ã–µ. –ò—Ö —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –æ–≥—Ä–æ–º–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ, –≤ —Ç–æ–º —á–∏—Å–ª–µ –∏ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö, –≤–æ—Ç —Ç–æ–ª—å–∫–æ –∏–∑ —Ö–µ–ª–ø—ã —Å–¥-—Å–∫—Ä–∏–ø—Ç—Å: *AdamW, AdamW8bit, Lion8bit, Lion, SGDNesterov, SGDNesterov8bit, DAdaptation(DAdaptAdamPreprint), DAdaptAdaGrad, DAdaptAdam, DAdaptAdan, DAdaptAdanIP, DAdaptLion, DAdaptSGD, AdaFactor*. –†–∞–∑–Ω—ã–µ –∏—Ö –≤–µ—Ä—Å–∏–∏ –æ—Ç–ª–∏—á–∞—é—Ç—Å—è —Ä–∞–∑–Ω—ã–º–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏, –∞ —Ç–∞–∫–∂–µ —Ä–∞–∑–Ω—ã–º –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ–º —Ä–µ—Å—É—Ä—Å–æ–≤ –≥–ø—É. –ó–¥–µ—Å—å –∂–µ –±—É–¥–µ—Ç –Ω–∞–ø–∏—Å–∞–Ω–æ –ª–∏—à—å –ø—Ä–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∏–∑ –Ω–∏—Ö, —Å–∞–º—ã—Ö –ø–æ–ª–µ–∑–Ω—ã—Ö:
- AdamW8bit. –ö–æ—Ä–æ–ª—å, –∫–æ—Ç–æ—Ä–æ–≥–æ —Å–ª–æ–∂–Ω–æ –ø–µ—Ä–µ–ø–ª—é–Ω—É—Ç—å, –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –≤—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –≥–∞–π–¥—ã –ø–æ —Ç—Ä–µ–Ω–∏–Ω–≥—É –ª–æ—Ä —Ä–∞—Å–ø–∏—Å—ã–≤–∞—é—Ç –∏–º–µ–Ω–Ω–Ω–æ –µ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –∫–∞–∫ –ø–æ–¥—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –≤—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ –ø–æ–¥ –Ω–µ–≥–æ. –ò–º–µ–µ—Ç –º–∞–ª–µ–Ω—å–∫–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ VRAM –∏ –Ω–µ 8–±–∏—Ç–Ω—É—é –≤–µ—Ä—Å–∏—é, –∫–æ—Ç–æ—Ä–∞—è –µ—Å—Ç —á—É—Ç—å –±–æ–ª—å—à–µ, –Ω–æ –Ω–µ –ø—Ä–∏–±–∞–≤–ª—è–µ—Ç –æ—Å–æ–±–æ –≤ –∫–∞—á–µ—Å—Ç–≤–µ. –ü—Ä–æ—Å—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ —Å—á–∏—Ç–∞–µ—Ç—Å—è –¥–µ—Ñ–æ–ª—Ç–æ–º, –æ—Å—Ç–∞–ª—å–Ω—ã–µ –±—É–¥—É—Ç —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å—Å—è –∏–º–µ–Ω–Ω–æ —Å –Ω–∏–º. –ù–µ –Ω—É–∂–¥–∞–µ—Ç—Å—è –≤ –æ—Å–æ–±—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö, –Ω–æ –µ—Å–ª–∏ –æ—á–µ–Ω—å —Ö–æ—á–µ—Ç—Å—è, —Ç–æ –≤–æ—Ç —Ç–∞–∫–∏–µ –ø–æ–¥—Å—Ç–∞–≤–ª—è—é—Ç—Å—è –∫ –Ω–µ–º—É –≤ derrian-gui ```"weight_decay=0.01" "betas=0.9,0.999"```. –•–æ—Ä–æ—à–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Å—Ç–∏–ª–µ–π.
- DAdaptAdam. –ê–¥–∞–º –±–µ–∑ –Ω—É–∂–¥—ã —Ä–µ–≥—É–ª–∏—Ä–æ–≤–∞—Ç—å –ª—Ä. –ò–º–µ–µ—Ç –±–æ–ª–µ–µ –Ω–∏–∑–∫—É—é —Å–∫–æ—Ä–æ—Å—Ç—å –∏—Ç–µ—Ä–∞—Ü–∏–π —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –∏ –ø–æ–≤—ã—à–µ–Ω–Ω–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ VRAM. –ù—É–∂–¥–∞–µ—Ç—Å—è –≤ –∞—Ä–≥—É–º–µ–Ω—Ç–∞—Ö, ```"decouple=True" "weight_decay=0.01" "betas=0.9,0.99"``` –∏–Ω–∞—á–µ –Ω–∏—á–µ–≥–æ –Ω–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å. –° –ø–æ–º–æ—â—å—é **weight_decay** –º–æ–∂–Ω–æ —Ä–µ–≥—É–ª–∏—Ä–æ–≤–∞—Ç—å —Å–∫–æ—Ä–æ—Å—Ç—å –µ–≥–æ –æ–±—É—á–µ–Ω–∏—è, —á–µ–º –≤—ã—à–µ –ø–æ—Å—Ç–∞–≤–∏—Ç—å —á–∏—Å–ª–æ, —Ç–µ–º –æ–Ω–∞ —Å—Ç–∞–Ω–µ—Ç –Ω–∏–∂–µ. –ù–∞ –º–æ–º–µ–Ω—Ç –Ω–∞–ø–∏—Å–∞–Ω–∏—è —ç—Ç–æ–≥–æ –≥–∞–π–¥–∞, —ç—Ç–æ—Ç –æ–ø—Ç–∏–º–∞–π–∑–µ—Ä —è–≤–ª—è–µ—Ç—Å—è —Å–∞–º—ã–º —É–¥–æ–±–Ω—ã–º –∏–∑ –≤—Å–µ—Ö –∞–¥–∞–ø—Ç–∏–≤–Ω—ã—Ö, –≤ –ø—Ä–æ—à–ª–æ–º –æ–Ω –ø—Ä–µ—Ç–µ—Ä–ø–µ–ª —Ä—è–¥ –∏–∑–º–µ–Ω–µ–Ω–∏–π –∏ —Å–∞–º—ã–µ —É–¥–∞—á–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ —ç—Ç–æ 3.1 –∏ 1.5, –≤ –∫–æ—Ç–æ—Ä–æ–π –∫—Å—Ç–∞—Ç–∏ –µ—â—ë –±—ã–ª–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –ª—Ä–æ–≤, –Ω–æ —è –Ω–µ —É–≤–µ—Ä–µ–Ω —á—Ç–æ –æ–Ω–∞ —Ä–∞–±–æ—Ç–∞–ª–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ. –í –≤–µ—Ä—Å–∏–∏ 1.5, –∫—Å—Ç–∞—Ç–∏ –æ–Ω –Ω–∞–∑—ã–≤–∞–ª—Å—è –∏ –≤—ã–∑—ã–≤–∞–ª—Å—è –≤ —Å–∫—Ä–∏–ø—Ç–∞—Ö –ø—Ä–æ—Å—Ç–æ –∫–∞–∫ DAdaptation. –£ —ç—Ç–æ–≥–æ –æ–ø—Ç–∏–º–∞–π–∑–µ—Ä–∞ –µ—Å—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ–±–ª–µ–º—ã —Å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–æ–π —Å—Ç–∏–ª–µ–π, –Ω–æ –≤ —Ü–µ–ª–æ–º –æ–Ω —Ö–æ—Ä–æ—à –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –º–æ–∂–Ω–æ —Å —Ç–∞–∫–∏–º –∂–µ —É—Å–ø–µ—Ö–æ–º, –∫–∞–∫ –∏ –æ–±—ã—á–Ω—ã–π –∞–¥–∞–º. –û–Ω —Ç–∞–∫ –∂–µ —è–≤–ª—è–µ—Ç—Å—è **–Ω–µ–¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–º**, —á—Ç–æ —É—Å–ª–æ–∂–Ω—è–µ—Ç —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ —Å –¥—Ä—É–≥–∏–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –Ω–∞ –Ω—ë–º. [–ï—Å—Ç—å –º–Ω–µ–Ω–∏–µ](https://github.com/kohya-ss/sd-scripts/issues/181#issuecomment-1433193143) —á—Ç–æ —Å –Ω–∏–∑–∫–∏–º –∑–Ω–∞—á–µ–Ω–∏–µ–º network_alpha –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –ª—Ä —Å —ç—Ç–∏–º –æ–ø—Ç–∏–º–∞–π–∑–µ—Ä–æ–º –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–¥–æ–±—Ä–∞–Ω —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–∏–º.
- Prodigy. –ü—Ä–æ–ª–æ–ª–∂–µ–Ω–∏–µ DAdaptAdam, —Ç–∞–∫–∂–µ —è–≤–ª—è–µ—Ç—Å—è –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–º –æ–ø—Ç–∏–º–∞–π–∑–µ—Ä–æ–º, –Ω–µ —Å–∞–º–æ–µ —É–¥–∞—á–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ, —Ç—Ä—É–¥–Ω–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–∏—Ä—É–µ–º—ã–π, –Ω—É–∂–¥–∞–µ—Ç—Å—è –≤ —Ç–æ–Ω–∫–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–µ —Å–≤–æ–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, –∏–Ω–∞—á–µ —Å–æ–∂–∂—ë—Ç –≤—Å—ë –±—ã—Å—Ç—Ä–µ–µ, —á–µ–º –≤–∑–≥–ª—è–Ω—É—Ç—å –Ω–∞ —Ç–µ–Ω–∑–æ—Ä–±–æ—Ä–¥ ```"decouple=True" "weight_decay=0.01" "d_coef=2" "use_bias_correction=True" "safeguard_warmup=True"```. –í—Å—ë —á—Ç–æ –∞–∫—Ç—É–∞–ª—å–Ω–æ –¥–ª—è DAdaptAdam, –∞–∫—Ç—É–∞–ª—å–Ω–æ –∏ –¥–ª—è –Ω–µ–≥–æ. –ë–æ–ª—å—à–µ —Å–∫–ª–æ–Ω–µ–Ω —Å–∂–∞—Ä–∏—Ç—å —Ç–µ, –Ω–µ–∂–µ–ª–∏ –µ–≥–æ –ø—Ä–µ–¥–æ–∫. d_coef - –æ—á–µ–Ω—å –≤–∞–∂–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä, –µ—Å–ª–∏ –ø–æ—Å—Ç–∞–≤–∏—Ç—å –µ–≥–æ —Å–ª–∏—à–∫–æ–º –Ω–∏–∑–∫–∏–º, –ª—Ä –Ω–∞—á–Ω—ë—Ç —Å–∫–∞–∫–∞—Ç—å –≤—ã—à–µ –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ –ø–æ—Å–µ—Ä–µ–¥–∏–Ω–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏. safeguard_warmup - –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–º–µ—Å—Ç–µ —Å –≤–∞—Ä–º–∞–ø–æ–º, –Ω–µ –æ—Å–æ–±–æ –ø–æ–ª–µ–∑–Ω–æ, —É—á–∏—Ç—ã–≤–∞—è —á—Ç–æ –∏ –æ–Ω –∏ DAdaptAdam –∏–º–µ—é—Ç —Å–≤–æ–π –≤–∞—Ä–º–∞–ø.
- Lion. –ü–æ –∑–∞–≤–µ—Ä–µ–Ω–∏—è–º —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤, –∑–∞–º–µ–Ω–∞ AdamW, –Ω–∞ –¥–µ–ª–µ –≤—ã–¥–∞—ë—Ç —á—É—Ç—å —Ö—É–∂–µ –∫–∞—á–µ—Å—Ç–≤–æ, —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏, —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–º–∏ —Å–∞–º–∏–º–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏. –ß—Ç–æ —Ç–æ—á–Ω–æ –∏–∑–≤–µ—Å—Ç–Ω–æ, —Ç–∞–∫ —ç—Ç–æ —Ç–æ —á—Ç–æ –æ–Ω —Å –¥—Ä—É–≥–∏–º–∏ –æ–¥–∏–Ω–∞–∫–æ–≤–æ —Ä–∞–≤–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ —Ç—Ä–µ–±—É–µ—Ç –ª—Ä –≤ 10-15 —Ä–∞–∑ –Ω–∏–∂–µ –∞–¥–∞–º–æ–≤—Å–∫–æ–≥–æ, —Ç–æ –µ—Å—Ç—å 1e-5 --- 2e-6. –í–æ–æ–±—â–µ–º –æ–ø—Ç–∏–º–∞–π–∑–µ—Ä –¥–ª—è —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤. –ò–º–µ–µ—Ç 8–±–∏—Ç–Ω—É—é –≤–µ—Ä—Å–∏—é, –Ω–æ –¥–ª—è –Ω–µ—ë –Ω—É–∂–Ω—ã –±–æ–ª–µ–µ —Å–≤–µ–∂–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ bitsandbytes.

#### --optimizer_args ($optimizer_args –≤ —Å–∫—Ä–∏–ø—Ç–µ)
–°–æ–±—Å—Ç–≤–µ–Ω–Ω–æ —Ç–µ —Å–∞–º—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –¥–ª—è –æ–ø—Ç–∏–º–∞–π–∑–µ—Ä–∞: ```"decouple=True" "weight_decay=0.01" "betas=0.9,0.99"```

#### --min_snr_gamma ($min_snr_gamma)
–ü—Ä—è–º–æ–π –∏–º–ø—Ä—É–≤–º–µ–Ω—Ç [–∫–æ–Ω–≤–µ—Ä–≥–µ–Ω—Ü–∏–∏ (—Å—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Å –¥–∞—Ç–∞—Å–µ—Ç–æ–º) —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏](https://arxiv.org/pdf/2303.09556.pdf), —á—Ç–æ –º–æ–∂–Ω–æ —É–≤–∏–¥–µ—Ç—å –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–∞—Ö —Ç–µ–Ω–∑–æ—Ä–±–æ—Ä–¥–∞:

1. –ú–µ–Ω—å—à–∏–µ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏–π loss'–∞ | 2. –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—â–∞—è —Å—Ö–æ–¥–∏–º–æ—Å—Ç—å —Å –¥–∞—Ç–∞—Å–µ—Ç–æ–º
------ | ------
[![–ú–µ–Ω—å—à–∏–µ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏–π loss'–∞](https://files.catbox.moe/xz11cb.png)](https://files.catbox.moe/xz11cb.png) | [![–£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—â–∞—è —Å—Ö–æ–¥–∏–º–æ—Å—Ç—å —Å –¥–∞—Ç–∞—Å–µ—Ç–æ–º](https://files.catbox.moe/l6ryyx.png)](https://files.catbox.moe/l6ryyx.png)

–î–æ–±–∞–≤–ª—è–µ—Ç –ø–ª–∞–≤–Ω–æ—Å—Ç–∏ –∫ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ, –≤–∏–¥–Ω–æ —á—Ç–æ –Ω–µ—Ç—É —Ç–∞–∫–æ–≥–æ —Å–∏–ª—å–Ω–æ–≥–æ —à–∞—Ç–∞–Ω–∏—è loss'–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —ç—Ç–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞. –ú–æ–∂–Ω–æ —Å—á–∏—Ç–∞—Ç—å —ç—Ç–æ –æ–¥–Ω–æ–π –∏–∑ safety measures, —á–µ–º –º–µ–Ω—å—à–µ —á–∏—Å–ª–æ, —Ç–µ–º —Å–∏–ª—å–Ω–µ–µ –±—É–¥–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç, —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ - **5**. –í –∫–∞–∫–æ–π —Ç–æ —Å—Ç–µ–ø–µ–Ω–∏ —ç—Ç–æ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä –ø–æ–º–æ–∂–µ—Ç —Å –º–∞–ª–µ–Ω—å–∫–∏–º –±–∞—Ç—á —Å–∞–π–∑–æ–º –∏ –Ω–µ–æ–¥–Ω–æ—Ä–æ–¥–Ω–æ—Å—Ç—è–º–∏ –¥–∞—Ç–∞—Å–µ—Ç–∞, –≤—ã—Ä–∞–≤–Ω–∏–≤–∞—è –∏—Ö.

#### --scale_weight_norms ($scale_weight_normals)
–ï—â—ë –æ–¥–Ω–∞ safety measure, –∫–æ—Ç–æ—Ä—É—é –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç—Å—è [–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ —Å–≤—è–∑–∫–µ —Å network_dropout](https://github.com/kohya-ss/sd-scripts/pull/545). –°–∫–µ–π–ª–∏—Ç –∫–ª—é—á–∏, –∫–æ—Ç–æ—Ä—ã–µ –∏–º–µ—é—Ç —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è –≤–µ—Å–æ–≤ –≤ –Ω–∏—Ö. –í –∫–æ–Ω—Å–æ–ª–∏ –≤—ã–≤–æ–¥–∏—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ–¥—Å—á—ë—Ç–æ–≤ `Average key norm=tensor(0.5194, device='cuda:0')` –∫–ª—é—á–µ–π, –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç—Å–∫–µ–π–ª–µ–Ω–Ω—ã—Ö `Keys Scaled=0`. –ú–æ–∂–µ—Ç —Å–∏–≥–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –æ –ø–µ—Ä–µ–∂–∞—Ä–∫–µ —é–Ω–µ—Ç–∞, –µ—Å–ª–∏ –∫–ª—é—á–∏ –Ω–∞—á–∏–Ω–∞—é—Ç —á–∞—Å—Ç–æ —Å–∫–µ–π–ª–∏—Ç—Å—è –∏ —Å—á—ë—Ç—á–∏–∫ Keys scaled —Ä–∞—Å—Ç—ë—Ç, —Ç–∞–∫ –∂–µ –µ—Å—Ç—å –º–Ω–µ–Ω–∏–µ —á—Ç–æ —ç—Ç–æ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä –ø—Ä–∏–¥–∞—Å—Ç –ª–æ—Ä–µ –±–æ–ª—å—à—É—é —Ñ–ª–µ–∫—Å–∏–±–∏–ª–∏—Ç–∏ –¥–ª—è –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ —Å –¥—Ä—É–≥–∏–º–∏ –≤ –∏–Ω—Ñ–µ—Ä–µ–Ω—Å —Ç–∞–π–º–µ. –ß—Ç–æ –∑–∞–º–µ—Ç–∏–ª –ª–∏—á–Ω–æ —è, —Ç–∞–∫ —ç—Ç–æ —Ç–æ, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —ç—Ç–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º 0.9-1.0 –≤ –æ–¥–∏–Ω–æ—á–∫—É, –±–µ–∑ –¥—Ä–æ–ø–∞—É—Ç–∞, –¥–æ–±–∞–≤–ª—è–µ—Ç –µ—â—ë –±–æ–ª—å—à–µ –ø–ª–∞–≤–Ω–æ—Å—Ç–∏ –∫ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ. –õ—É—á—à–µ –Ω–µ –ø–µ—Ä–µ—É—Å–µ—Ä–¥—Å—Ç–≤–æ–≤–∞—Ç—å —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º, –∏–Ω–∞—á–µ —Å–µ—Ç—å [–Ω–∏—á–µ–º—É –Ω–µ –Ω–∞—É—á–∏—Ç—Å—è](https://files.catbox.moe/pk8qgo.png).

### --lr_scheduler ($scheduler –≤ —Å–∫—Ä–∏–ø—Ç–µ)
–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∫—Ä–∏–≤–æ–π –ª–µ—Ä–Ω–∏–Ω–≥ —Ä–µ–π—Ç–∞. –î–µ—Ñ–æ–ª—Ç–Ω—ã–µ —Å–æ —Å–ø–∞–¥–∞—é—â–∏–º –ª—Ä–æ–º –Ω–µ —Å–∏–ª—å–Ω–æ –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞ –æ—Ç–ª–∏—á–∞—é—Ç—Å—è, –Ω–æ –∏ —Ç—É—Ç –µ—Å—Ç—å –ø–∞—Ä–∞ –Ω—é–∞–Ω—Å–æ–≤. –î–ª—è –¥–æ–ª–≥–∏—Ö —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ —Å—Ç–∏–ª–µ–π –ª—É—á—à–µ –≤—Å–µ–≥–æ –ø–æ–¥—Ö–æ–¥—è—Ç —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–µ –∫–æ—Å–∏–Ω—É—Å—ã —Å —Ä–µ—Å—Ç–∞—Ä—Ç–∞–º–∏/–ø–æ–¥–æ–≥—Ä–µ–≤–∞–º–∏. –ö–æ–Ω—Å—Ç–∞–Ω—Ç–Ω—ã–π —à–µ–¥—É–ª–µ—Ä —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —é–∑–∞—Ç—å –≤–º–µ—Å—Ç–µ —Å –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–º–∏ –æ–ø—Ç–∏–º–∞–π–∑–µ—Ä–∞–º–∏, –∞ –≤–æ—Ç –æ–±—ã—á–Ω—ã–π –∞–¥–∞–º –µ–≥–æ –ø–ª–æ—Ö–æ –ø–µ—Ä–µ–≤–∞—Ä–∏–≤–∞–µ—Ç, –µ–º—É –Ω—É–∂–µ–Ω –ø–æ—Å—Ç–æ—è–Ω–Ω–æ —Å–ø–∞–¥–∞—é—â–∏–π –ª—Ä.
–î–µ—Ñ–æ–ª—Ç–Ω—ã–µ —à–µ–¥—É–ª–µ—Ä—ã –ø–æ—Å—Ç–∞–≤–ª—è–µ–º—ã–µ —Å sd-scripts: *linear, cosine, cosine_with_restarts, polynomial, constant, constant_with_warmup, adafactor*.
- [constant](https://www.kaggle.com/code/rhtsingh/guide-to-huggingface-schedulers-differential-lrs#Constant-Schedule): —Å–∫–æ—Ä–æ—Å—Ç—å –æ–±—É—á–µ–Ω–∏—è –Ω–µ –∏–∑–º–µ–Ω—è–µ—Ç—Å—è –≤–æ –≤—Ä–µ–º–µ–Ω–∏ —Å –Ω–∞—á–∞–ª–∞ –∏ –¥–æ –∫–æ–Ω—Ü–∞ –æ–±—É—á–µ–Ω–∏—è. –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é *lr_warmup_ratio*. 

–í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é *lr_warmup_ratio* –∏ –∏–º–µ—é—Ç —Å–ª–µ–¥—É—é—â–∏–µ —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏:
–ü–æ—Å–ª–µ –ø–µ—Ä–∏–æ–¥–∞ —Ä–∞–∑–æ–≥—Ä–µ–≤–∞, –¥–ª—è—â–µ–≥–æ—Å—è *lr_warmup_ratio%* —à–∞–≥–æ–≤, –≤ —Ç–µ—á–µ–Ω–∏–µ –∫–æ—Ç–æ—Ä–æ–≥–æ —Å–∫–æ—Ä–æ—Å—Ç—å –æ–±—É—á–µ–Ω–∏—è –ª–∏–Ω–µ–π–Ω–æ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –º–µ–∂–¥—É 0 –∏ *learning_rate*:
- [linear](https://www.kaggle.com/code/rhtsingh/guide-to-huggingface-schedulers-differential-lrs#Linear-Schedule-with-Warmup): —Å–∫–æ—Ä–æ—Å—Ç—å –æ–±—É—á–µ–Ω–∏—è –ª–∏–Ω–µ–π–Ω–æ —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è –æ—Ç –∑–Ω–∞—á–µ–Ω–∏—è *learning_rate* –¥–æ 0.
- [cosine](https://www.kaggle.com/code/rhtsingh/guide-to-huggingface-schedulers-differential-lrs#Cosine-with-Warmup): —Å–∫–æ—Ä–æ—Å—Ç—å –æ–±—É—á–µ–Ω–∏—è —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è –≤—Å–ª–µ–¥ –∑–∞ –∑–Ω–∞—á–µ–Ω–∏–µ–º –∫–æ—Å–∏–Ω—É—Å–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –º–µ–∂–¥—É *learning_rate* –∏ 0.
- [cosine_with_restarts](https://www.kaggle.com/code/rhtsingh/guide-to-huggingface-schedulers-differential-lrs#Cosine-With-Hard-Restarts): —Å–∫–æ—Ä–æ—Å—Ç—å –æ–±—É—á–µ–Ω–∏—è —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è –≤—Å–ª–µ–¥ –∑–∞ –∑–Ω–∞—á–µ–Ω–∏–µ–º –∫–æ—Å–∏–Ω—É—Å–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –º–µ–∂–¥—É *learning_rate* –∏ 0, —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –∂—ë—Å—Ç–∫–∏–º–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–º–∏.
- [polynomial](https://www.kaggle.com/code/rhtsingh/guide-to-huggingface-schedulers-differential-lrs#Polynomial-Decay-with-Warmup): —Å–∫–æ—Ä–æ—Å—Ç—å –æ–±—É—á–µ–Ω–∏—è —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è –∫–∞–∫ –ø–æ–ª–∏–Ω–æ–º–∏–∞–ª—å–Ω—ã–π —Ä–∞—Å–ø–∞–¥ —Å–æ –∑–Ω–∞—á–µ–Ω–∏—è *learning_rate* –¥–æ –∑–Ω–∞—á–µ–Ω–∏—è 1e-7.

–í–æ—Ç —Ç–∞–∫ –æ–Ω–∏ –≤—ã–≥–ª—è–¥—è—Ç –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–µ —Ç–µ–Ω–∑–æ—Ä–±–æ—Ä–¥–∞.
1. Constant | 2. Polynomial 0.75 power | 3. Cosine | 4. Linear | 5. Cosine with 4 restarts
------ | ------ | ------ | ------ | ------
[![Constant](https://files.catbox.moe/mtvrvp.png)](https://files.catbox.moe/mtvrvp.png) | [![Polynomial 0.75 power](https://files.catbox.moe/iaoj65.png)](https://files.catbox.moe/iaoj65.png) | [![Cosine](https://files.catbox.moe/peixh8.png)](https://files.catbox.moe/peixh8.png) | [![Linear](https://files.catbox.moe/ycpl4s.png)](https://files.catbox.moe/ycpl4s.png) | [![Cosine with 4 restarts](https://files.catbox.moe/1od21t.png)](https://files.catbox.moe/1od21t.png)

#### --lr_scheduler_num_cycles ($lr_r_num_cycles –≤ —Å–∫—Ä–∏–ø—Ç–µ)
–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ—Å—Ç–∞—Ä—Ç–æ–≤ —à–µ–¥—É–ª–µ—Ä–∞ cosine_with_restarts. –ü—Ä–∏–º–µ—Ä –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è: ```--lr_scheduler_num_cycles=4``` –¥–∞—Å—Ç **—Ç—Ä–∏** —Ä–µ—Å—Ç–∞—Ä—Ç–∞, —Å–∞–º–æ–µ –Ω–∞—á–∞–ª–æ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ —Ç–æ–∂–µ —Å—á–∏—Ç–∞–µ—Ç—Å—è —Ä–µ—Å—Ç–∞—Ä—Ç–æ–º.

#### --lr_scheduler_power
–°–∏–ª–∞ —Å–ø–∞–¥–∞ Polynomial —à–µ–¥—É–ª–µ—Ä–∞, —á–µ–º –±–ª–∏–∂–µ –∫ 0 –∑–Ω–∞—á–µ–Ω–∏–µ, —Ç–µ–º —Ä–∞–Ω—å—à–µ –∏ —Å–∏–ª—å–Ω–µ–µ –Ω–∞—á–Ω—ë—Ç—Å—è —Ä–∞—Å–ø–∞–¥.

#### --lr_scheduler_type ($lr_scheduler_type)
–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–æ–±–∞–≤–∏—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–π —à–µ–¥—É–ª–µ—Ä, –ø—Ä—è–º–æ —á–µ—Ä–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç. –ù–∞–ø—Ä–∏–º–µ—Ä ```--lr_scheduler_type=cosine_annealing_warmup.CosineAnnealingWarmupRestarts```

#### --lr_scheduler_args ($lr_scheduler_args)
–ê—Ä–≥—É–º–µ–Ω—Ç—ã –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ —à–µ–¥—É–ª–µ—Ä–∞. –ù–∞–ø—Ä–∏–º–µ—Ä ```--lr_scheduler_args "T_0=549" "gamma_min_lr=0.99915" "decay=1" "down_factor=0.5" "warmup_steps=100" "cycle_warmup=50" "init_lr_ground=True"```

#### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –ø–æ –∫–∞—Å—Ç–æ–º–Ω–æ–º—É —à–µ–¥—É–ª–µ—Ä—É –¥–ª—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ —Å—Ç–∏–ª–µ–π
–°—Ç–∏–ª–∏ —Å –ø–æ–º–æ—â—å—é –ª–æ—Ä —Ç—Ä–µ–Ω–∏—Ä—É—é—Ç—Å—è –¥–æ–ª—å—à–µ –≤—Å–µ–≥–æ –∏ —Ç–∞–∫ –ø–æ–ª—É—á–∏–ª–æ—Å—å, —á—Ç–æ –ª—É—á—à–∏–º —à–µ–¥—É–ª–µ—Ä–æ–º –¥–ª—è —Ç–∞–∫–æ–≥–æ –¥–µ–ª–∞ —è–≤–ª—è–µ—Ç—Å—è cosine_with_restarts, –Ω–æ —É –Ω–µ–≥–æ –µ—Å—Ç—å –æ–¥–∏–Ω –∏–∑—ä—è–Ω. –ú–æ–º–µ–Ω—Ç–∞–ª—å–Ω–æ–µ –ø–æ–≤—ã—à–µ–Ω–∏–µ –ª—Ä –∑–∞ 1 —à–∞–≥ —Å 0 –¥–æ –∑–Ω–∞—á–µ–Ω–∏—è —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –≤ learning_rate. –ü–æ–ª—É—á–∞–ª–æ—Å—å —Ç–∞–∫, —á—Ç–æ –≥–¥–µ-—Ç–æ –Ω–∞ –ø—Ä–æ—Ç—è–∂–µ–Ω–∏–∏ –æ–¥–Ω–æ–π —ç–ø–æ—Ö–∏ –±—ã–≤–∞–µ—Ç —Å–ª–∏—à–∫–æ–º –º–∞–ª–µ–Ω—å–∫–∏–π –ª—Ä (–Ω–∏–∂–µ 1–µ-6) —á—Ç–æ–±—ã —Å–µ—Ç—å –º–æ–≥–ª–∞ —á–µ–º—É —Ç–æ –Ω–∞—É—á–∏—Ç—å—Å—è, –∞ –ø–æ—Å–ª–µ —Ä–µ–∑–∫–æ–µ –ø–æ–≤—ã—à–µ–Ω–∏–µ, —á—Ç–æ —Å–∫–∞–∑—ã–≤–∞–≤–∞–µ—Ç—Å—è –Ω–∞ –ø–ª–∞–≤–Ω–æ—Å—Ç–∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏. –î–ª—è —Ä–µ—à–µ–Ω–∏—è —ç—Ç–æ–π –ø—Ä–æ–±–ª–µ–º—ã —è –ø—Ä–µ–¥–ª–∞–≥–∞—é –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–π —à–µ–¥—É–ª–µ—Ä –æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–π –Ω–∞ [—à–µ–¥—É–ª–µ—Ä–µ –∏–∑ —ç—Ç–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è](https://github.com/katsura-jp/pytorch-cosine-annealing-with-warmup.git), –æ–±—ä—è—Å–Ω—é –∫–∞–∫ –µ–≥–æ –ø–æ—Å—Ç–∞–≤–∏—Ç—å:

1) –°–Ω–∞—á–∞–ª–∞ –Ω—É–∂–Ω–æ –ø–æ—Å—Ç–∞–≤–∏—Ç—å –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —à–µ–¥—É–ª–µ—Ä –≤–Ω—É—Ç—Ä–∏ venv –ø–∞–ø–∫–∏ —Å —Å–¥-—Å–∫—Ä–∏–ø—Ç—Å –∫–æ–º–∞–Ω–¥–∞–º–∏:
```powershell
.\venv\Scripts\Activate.ps1
pip install 'git+https://github.com/katsura-jp/pytorch-cosine-annealing-with-warmup'
```
2) –ü—Ä–æ–π—Ç–∏ –ø–æ –ø—É—Ç–∏ **sd-scripts\venv\Lib\site-packages\cosine_annealing_warmup** –∏ –ø–æ–º–µ–Ω—è—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ –ª–µ–∂–∞—â–µ–≥–æ —Ç–∞–º —Ñ–∞–π–ª–∞ —Å **scheduler.py** –Ω–∞ **scheduler.py.bckp**.
3) –°–∫–∞—á–∞—Ç—å [–∫–∞—Å—Ç–æ–º–Ω—ã–π —à–µ–¥—É–ª–µ—Ä](https://files.catbox.moe/z6t4ii.py) –≤ —ç—Ç—É –ø–∞–ø–∫—É —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º **scheduler.py**.

–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤—ã–∑–æ–≤ –≤ —Å–∫—Ä–∏–ø—Ç–µ —ç—Ç–æ–≥–æ —à–µ–¥—É–ª–µ—Ä–∞ –ø–æ–∫–∞–∑–∞–Ω –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö —á—É—Ç—å –≤—ã—à–µ. ```T_0``` —Å—Ç–æ–∏—Ç –≤—ã—Å—á–∏—Ç—ã–≤–∞—Ç—å —Ç–∞–∫: –≤—ã—Å—á–∏—Ç–∞—Ç—å –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —à–∞–≥–æ–≤, –∫–æ—Ç–æ—Ä–æ–µ –±—É–¥–µ—Ç —Å–¥–µ–ª–∞–Ω–æ –≤–æ –≤—Ä–µ–º—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä 1600 –∏ –ø–æ–¥–µ–ª–∏—Ç—å –µ–≥–æ –Ω–∞ –∂–µ–ª–∞–µ–º–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ—Å—Ç–∞—Ä—Ç–æ–≤. –≠—Ç–æ —á–∏—Å–ª–æ, –≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ 400 –∏ –Ω—É–∂–Ω–æ –≤–ø–∏—Å—ã–≤–∞—Ç—å –≤ ```T_0```, –≤ —ç—Ç–æ—Ç –º–æ–º–µ–Ω—Ç –±—É–¥–µ—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å —Ä–µ—Å—Ç–∞—Ä—Ç —Å –ø–æ–¥–æ–≥—Ä–µ–≤–æ–º. –° –ø–æ–º–æ—â—å—é ```gamma_min_lr``` —Å—Ç–æ–∏—Ç —Ä–µ–≥—É–ª–∏—Ä–æ–≤–∞—Ç—å —Å–∫–æ—Ä–æ—Å—Ç—å —Å–ø–∞–¥–∞ –ª—Ä, —á–µ–º –Ω–∏–∂–µ —á–∏—Å–ª–æ, —Ç–µ–º –±—ã—Å—Ç—Ä–µ–µ –æ–Ω –±—É–¥–µ—Ç –ø–æ–Ω–∏–∂–∞—Ç—å—Å—è.

##### Matplotlib –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –Ω–µ –∞–¥–∞–ø—Ç–∏–≤–Ω—ã—Ö —à–µ–¥—É–ª–µ—Ä–æ–≤
–£–¥–æ–±–Ω–æ –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–±–æ—Ç—É —ç—Ç–æ–≥–æ —à–µ–¥—É–ª–µ—Ä–∞ –º–æ–∂–Ω–æ —Å –ø–æ–º–æ—â—å—é –µ—â—ë –æ–¥–Ω–æ–≥–æ [—Å–∫—Ä–∏–ø—Ç–∞ —Å –¥–∞–º–º–∏ –Ω–µ—Ç–≤–æ—Ä–∫–æ–º](https://files.catbox.moe/7gv6rk.py). –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ª–∏—à—å —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è —Å –∏–º–ø–æ—Ä—Ç–∞–º–∏ –≤–≤–µ—Ä—Ö—É –Ω–µ–≥–æ, —É—Å—Ç–∞–Ω–æ–≤–∏–≤ –Ω—É–∂–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ –ø–æ–ª–æ–∂–∏–≤ –µ–≥–æ —Ä—è–¥–æ–º —Å —Å–∞–º–∏–º —à–µ–¥—É–ª–µ—Ä–æ–º (–Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —ç—Ç–æ –¥–µ–ª–∞—Ç—å –≤ venv –∫–æ—Ö–∏, –º–æ–∂–Ω–æ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫—É–¥–∞ –Ω–∏–±—É–¥—å –≤ –¥—Ä—É–≥–æ–µ –º–µ—Å—Ç–æ).
-> ![–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —à–µ–¥—É–ª–µ—Ä–∞](https://files.catbox.moe/khmqx2.png) <-

### --network_dim ($network_dim –≤ —Å–∫—Ä–∏–ø—Ç–µ)
–†–∞–∑–º–µ—Ä —Å–µ—Ç–∏. –ü–∞—Ä–∞–º–µ—Ç—Ä –æ–ø—Ä–µ–¥–µ–ª—è—é—â–∏–π –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç—Ä–µ–Ω–∏—Ä—É–µ–º—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ UNet –∏ TE, —á–µ–º –≤—ã—à–µ, —Ç–µ–º –±–æ–ª—å—à–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –±—É–¥–µ—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å—Å—è –Ω–∞ –∫–∞–∂–¥–æ–º –ø—Ä–æ—Ö–æ–¥–µ. –Ø–≤–ª—è–µ—Ç—Å—è –æ–¥–Ω–∏–º –∏–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, –≤–ª–∏—è—é—â–∏—Ö –Ω–∞ —Å–∫–æ—Ä–æ—Å—Ç—å –æ–±—É—á–µ–Ω–∏—è, –ø—Ä–∏ –Ω–∏–∑–∫–∏—Ö –∑–Ω–∞—á–µ–Ω–∏—è—Ö –æ–Ω –µ—ë –∑–∞–º–µ–¥–ª—è–µ—Ç, –Ω–æ –Ω–µ —Ç–∞–∫ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –∫–∞–∫ –æ—Å—Ç–∞–ª—å–Ω—ã–µ. –¢–∞–∫ –∂–µ –≤–ª–∏—è–µ—Ç –Ω–∞ —Ä–∞–∑–º–µ—Ä –≤—ã—Ö–æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ –∏ –≤—ã—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –ø–æ —Ñ–æ—Ä–º—É–ª–µ network_dim x 1,125 –ø—Ä–∏ –ø–æ–ª–æ–≤–∏–Ω–Ω–æ–π —Ç–æ—á–Ω–æ—Å—Ç–∏ (FP16, BF16). –í–ª–∏—è–µ—Ç –Ω–∞ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ VRAM –≤–æ –≤—Ä–µ–º—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏, —á–µ–º –º–µ–Ω—å—à–µ –∑–Ω–∞—á–µ–Ω–∏–µ, —Ç–µ–º –æ–Ω–æ –±—É–¥–µ—Ç –Ω–∏–∂–µ. –ó–Ω–∞—á–µ–Ω–∏—è –≤—ã—à–µ 128 –∏–∑–±—ã—Ç–æ—á–Ω—ã, –Ω–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∏–¥–µ—Ä–∂–∏–≤–∞—Ç—å—Å—è –∑–Ω–∞—á–µ–Ω–∏—è **64**, –ø–æ—ç—Ç–æ–º—É –µ–≥–æ —è –∏ —Å—á–∏—Ç–∞—é —Ö–æ—Ä–æ—à–∏–º –¥–µ—Ñ–æ–ª—Ç–æ–º –¥–ª—è —ç—Ç–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞.

#### --network_alpha ($network_alpha –≤ —Å–∫—Ä–∏–ø—Ç–µ)
–ü–∞—Ä–∞–º–µ—Ç—Ä, [–∏–∑–Ω–∞—á–∞–ª—å–Ω–æ –≤–≤–µ–¥—ë–Ω–Ω—ã–π](https://github.com/kohya-ss/sd-webui-additional-networks/issues/49), —á—Ç–æ–±—ã –±–æ—Ä–æ—Ç—å—Å—è —Å –∞–Ω–¥–µ—Ä—Ñ–ª–æ—É–≤–∞–º–∏ –≤—ã—Ö–æ–¥–Ω—ã—Ö –≤–µ—Å–æ–≤, –∫–æ–≥–¥–∞ –≤–µ—Å–∞ –±–ª–∏–∑–∫–∏–µ –∫ –Ω—É–ª—é –æ–∫—Ä—É–≥–ª—è–ª–∏—Å—å –¥–æ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∏ –∑–∞–ø–∏—Å—ã–≤–∞–ª–∏—Å—å –≤ —Ç–µ–Ω–∑–æ—Ä, —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∫–∞–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ —Ñ–æ—Ä–º—É–ª—É network_alpha/network_dim. –î–ª—è —Ç–µ—Ö, –∫—Ç–æ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ BF16 —Ç–æ—á–Ω–æ—Å—Ç–∏ —ç—Ç–æ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä –Ω—É–∂–µ–Ω –≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å —Ç–æ–ª—å–∫–æ –¥–ª—è –∑–∞–º–µ–¥–ª–µ–Ω–∏—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏. –Ø–≤–ª—è–µ—Ç—Å—è –≤—Ç–æ—Ä—ã–º –ø–æ —Å–∏–ª–µ –∑–∞–º–µ–¥–ª–∏—Ç–µ–ª–µ–º —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –∏ –ø–ª–æ—Ö–æ –≤–ª–∏—è–µ—Ç –Ω–∞ –æ–±—É—á–µ–Ω–∏–µ —Å—Ç–∏–ª–µ–π. –í —Å–ª—É—á–∞–µ —Å FP16 –Ω–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é —É–±–∏—Ä–∞–µ—Ç –Ω—É–ª–µ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è, –∞ –ª–∏—à—å —Å–Ω–∏–∂–∞–µ—Ç –∏—Ö –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ, —á–µ–º –±–æ–ª—å—à–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ, —Ç–µ–º –º–µ–Ω—å—à–µ –±—É–¥–µ—Ç –Ω—É–ª–µ–≤—ã—Ö —Ç–µ–Ω–∑–æ—Ä–æ–≤.
–ü—Ä–∏ –ø–æ–Ω–∏–∂–µ–Ω–∏–∏ —ç—Ç–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è –∫–æ–º–ø–µ–Ω—Å–∏—Ä–æ–≤–∞—Ç—å —Å–∫–æ—Ä–æ—Å—Ç—å –æ–±—É—á–µ–Ω–∏—è –ø–æ–≤—ã—à–µ–Ω–∏–µ–º –ª–µ—Ä–Ω–∏–Ω–≥ —Ä–µ–π—Ç–∞, –≤ —Å–ª—É—á–∞–µ —Å –Ω–µ –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–º–∏ –æ–ø—Ç–∏–º–∞–π–∑–µ—Ä–∞–º–∏, –ø—Ä–∏–º–µ—Ä–Ω–æ–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –∑–Ω–∞—á–µ–Ω–∏–π –∞–ª—å—Ñ–∞=1, —Ä–∞–º–∑–µ—Ä–Ω–æ—Å—Ç—å —Å–µ—Ç–∏=64 - —ç—Ç–æ –ø–æ–≤—ã—à–µ–Ω–∏–µ –ª—Ä —é–Ω–µ—Ç–∞ –≤ 10 —Ä–∞–∑, –¥–æ 1e-3.
–•–æ—Ä–æ—à–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è:
- **–û—Ç 1/1 –¥–æ 1/4** –æ—Ç —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç–∏ —Å–µ—Ç–∏ - –¥–ª—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ —Å—Ç–∏–ª–µ–π.
- **–û—Ç 1 –¥–æ 16** –ø—Ä–∏ —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç–∏ —Å–µ—Ç–∏ —Ä–∞–≤–Ω–æ–π 64 –¥–ª—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –ø—Ä–æ—Å—Ç—ã—Ö –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π.

#### --mixed_precision ($mixed_precision) –∏ --save_precision ($save_precision)
–í—ã–±–æ—Ä —ç—Ç–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∏–º–µ—é—â–µ–π—Å—è –≥–ø—É –¥–ª—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏. –ï—Å–ª–∏ –µ—Å—Ç—å RTX3000 –∏ –≤—ã—à–µ, –æ–±–∞ –∑–Ω–∞—á–µ–Ω–∏—è –ª—É—á—à–µ —Å—Ç–∞–≤–∏—Ç—å –≤ BF16. FP16 –ø–æ–¥–æ–π–¥—ë—Ç –¥–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤ –¥—Ä—É–≥–∏—Ö –∫–∞—Ä—Ç, –Ω–æ —ç—Ç–æ—Ç —Ñ–æ—Ä–º–∞—Ç –∏–º–µ–µ—Ç —Å–ª–∏—à–∫–æ–º –º–∞–ª–æ –±–∏—Ç –Ω–∞ —ç–∫—Å–ø–æ–Ω–µ–Ω—Ç—É –∏ –∏–∑-–∑–∞ —ç—Ç–æ–≥–æ –≤ –∏—Ç–æ–≥–æ–≤–æ–π –ª–æ—Ä–µ –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å—Å—è –æ—á–µ–Ω—å –º–Ω–æ–≥–æ –Ω—É–ª–µ–≤—ã—Ö —Ç–µ–Ω–∑–æ—Ä–æ–≤. –ö—Å—Ç–∞—Ç–∏ –ø—Ä–æ —ç—Ç–æ, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–Ω–∑–æ—Ä—ã –º–æ–¥–µ–ª–∏ –º–æ–∂–Ω–æ –ø—Ä–∏ –ø–æ–º–æ—â–∏ –æ–¥–Ω–æ–≥–æ –∏–∑ —Å–∫—Ä–∏–ø—Ç–æ–≤ –≤ –Ω–∞–±–æ—Ä–µ sd-scripts, –∞ –∏–º–µ–Ω–Ω–æ networks\check_lora_weights.py. –ö–∞–∫ –æ–±—ã—á–Ω–æ —á–µ—Ä–µ–∑ venv –∏–∑ –ø–∞–ø–∫–∏ networks, –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –ø–æ–ª–æ–∂–∏–≤ —Ä—è–¥–æ–º –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∏–π –Ω–µ—Ç–≤–æ—Ä–∫:
```powershell
..\venv\Scripts\Activate.ps1
python .\check_lora_weights.py .\rizento_v1-000018.safetensors > out.txt
```
–û—Ç–∫—Ä—ã–≤–∞–µ–º —ç—Ç–æ—Ç out.txt, –Ω—É –Ω–∞–ø—Ä–∏–º–µ—Ä —Å –ø–æ–º–æ—â—å—é notepad++ –∏ –∏—â–µ–º 0.0\r\n –ø–æ—Å—Ç–∞–≤–∏–≤ —á–µ–∫–±–æ–∫—Å search mode –≤ extended –Ω–∞–∂–∞–≤ –Ω–∞ count.

-> ![–ü—Ä–∏–º–µ—Ä –ø–æ–∏—Å–∫–∞ –Ω—É–ª–µ–≤—ã—Ö —Ç–µ–Ω–∑–æ—Ä–æ–≤](https://files.catbox.moe/fu9grk.png) <-

–£ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –Ω–∞—Ç—Ä–µ–Ω–µ–Ω–Ω–æ–π –ª–æ—Ä—ã, –Ω–∞ 2 –∫–ª–∏–ø —Å–∫–∏–ø–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤—Å–µ–≥–æ –Ω–∞–≤—Å–µ–≥–æ 6 –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π, –µ—Å–ª–∏ –±–æ–ª—å—à–µ, –∑–Ω–∞—á–∏—Ç –±—ã–ª–∏ –æ—à–∏–±–∫–∏ –ø—Ä–µ—Å–∏–∂–∏–æ–Ω–∞, –∏—Ö –∫—Å—Ç–∞—Ç–∏ –º–æ–∂–Ω–æ –ø–æ—Ñ–∏–∫—Å–∏—Ç—å, –∑–∞—Ä–µ—Å–∞–π–∑–∏–≤ –º–æ–¥–µ–ª—å, –∫–∞–∫ –ø–æ–∫–∞–∑–∞–Ω–æ –≤ 6 –ø—É–Ω–∫—Ç–µ [easy way](#easy-way), –ø–æ –≤—Å–µ–π –≤–∏–¥–∏–º–æ—Å—Ç–∏ –ø—Ä–∏ —Ä–µ—Å–∞–π–∑–µ –ø–µ—Ä–≤—ã–º–∏ –æ—Ç–±—Ä–∞—Å—ã–≤–∞—é—Ç—Å—è –∏–º–µ–Ω–Ω–æ –Ω—É–ª–µ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è.

### --network_module ($network_module)
–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –æ—Å–Ω–æ–≤–Ω—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ —Å–∫—Ä–∏–ø—Ç–æ–≤ –¥–ª—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏, –∫–æ—Ç–æ—Ä—ã—Ö –≤—Å–µ–≥–æ –¥–≤–µ, –æ—Ç [–∫–æ—Ö–∏](https://github.com/kohya-ss/sd-scripts) –∏ [–∫–æ—Ö–∞–∫–∞](https://github.com/KohakuBlueleaf/LyCORIS). –†–∞—Å–ø–∏—Å—ã–≤–∞—Ç—å –ø—Ä–æ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π, –æ—Å–Ω–æ–≤—ã–≤–∞—è—Å—å –Ω–∞ –æ–ø—ã—Ç–µ, —è –Ω–µ —Å–º–æ–≥—É, —Ç–∞–∫ –∫–∞–∫ –Ω–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª –∏—Ö face to face, –Ω—É –∏ —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º –æ–Ω–∏ –º–µ–Ω—è—é—Ç—Å—è, —Ñ–∏–∫—Å—è—Ç—Å—è –∏–ª–∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –±–∞–≥–∏, –ø–æ—è–≤–ª—è—é—Ç—Å—è –Ω–æ–≤—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã –∏ —Ç–¥. –ü–æ–¥—Ä–æ–±–Ω–µ–µ –ø—Ä–æ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤—ã–∑–æ–≤ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –º–æ–∂–Ω–æ –ø–æ—á–∏—Ç–∞—Ç—å [–≤–æ—Ç —Ç—É—Ç](https://seesaawiki.jp/nai_ch/d/Dreambooth-LoRA#content_8_17), Ctrl+F "network_module" –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ.
–ò–º–µ–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–∏–Ω–∏–º–∞–µ–º—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, –Ω–æ –≤—ã–±–∏—Ä–∞—Ç—å –Ω—É–∂–Ω–æ –æ–¥–∏–Ω:
- **networks.lora** - –æ–±—ã—á–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –æ—Ç –∫–æ—Ö–∏, –ø—Ä–∏–Ω–∏–º–∞—é—â–∞—è –Ω–∞ –≤—Ö–æ–¥ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –±–µ–∑ —É–∫–∞–∑–∞–Ω–∏—è –∞–ª–≥–æ—Ä–∏—Ç–º–∞, –Ω–æ –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å conv —Å–ª–æ–∏, –æ —á—ë–º –±—É–¥–µ—Ç —Ä–∞—Å—Å–∫–∞–∑–∞–Ω–æ —á—É—Ç—å –ø–æ–∑–∂–µ.
- **networks.dylora** - —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π DyLoRA –æ—Ç –∫–æ—Ö–∏, –∏–∑ –º–æ–∏—Ö —Ç–µ—Å—Ç–æ–≤, —ç—Ç–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ç—Ä–µ–Ω–∏—Ç—Å—è –º–µ–¥–ª–µ–Ω–Ω–µ–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–æ—Ö–∞–∫–∞. –¢–∞–∫–∂–µ –Ω–∏–∫—Ç–æ –Ω–µ –º–µ—à–∞–µ—Ç –Ω–∞–∫–∏–Ω—É—Ç—å —Å—é–¥–∞ –∫–æ–Ω–≤–æ–ª—é—à–µ–Ω–∞.
- **locon.locon_kohya** - —Å—Ç–∞—Ä–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ª–æ–∫–æ–Ω–∞ –æ–Ω–ª–∏, –¥–æ —Ç–æ–≥–æ –∫–∞–∫ —ç—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø–µ—Ä–µ—Ä–æ—Å –≤ –ª–∏–∫–æ—Ä–∏—Å, –∫–æ—Ç–æ—Ä–∞—è –ª–µ–∂–∏—Ç [–∑–¥–µ—Å—å](https://pypi.org/project/locon/), *for legacy reasons*.
- **lycoris.kohya** - [—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è](https://pypi.org/project/lycoris-lora/) –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤, –≤ —Ç–æ–º —á–∏—Å–ª–µ –∏ –¥–∏–ª–æ—Ä—ã –æ—Ç –∫–æ—Ö–∞–∫–∞, –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –¥—Ä—É–≥–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã.

#### --network_args
–ê—Ä–≥—É–º–µ–Ω—Ç—ã –¥–ª—è network_module. –î–ª—è –∫–∞–∂–¥–æ–π –∏–∑ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å —Å–≤–æ–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
- **networks.lora, locon.locon_kohya, networks.dylora** - –ø—Ä–∏–Ω–∏–º–∞—é—Ç –Ω–∞ –≤—Ö–æ–¥ ```"conv_dim=32" "conv_alpha=32"```
- **lycoris.kohya** - –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –Ω–∞ –≤—Ö–æ–¥ —Ç–∞–∫–∏–µ –∂–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º —É–∫–∞–∑–∞–Ω–∏–µ–º —Ç—Ä–µ–Ω–∏—Ä—É–µ–º–æ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ ```"conv_dim=32" "conv_alpha=32" "algo=locon"```. –í–æ–∑–º–æ–∂–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã: ```full, lora, locon, loha, dylora, lokr, ia3```, –ø–æ–¥—Ä–æ–±–Ω–µ–µ –ø—Ä–æ –≤—ã–±–∏—Ä–∞–µ–º—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º –º–æ–∂–Ω–æ [–ø–æ—á–∏—Ç–∞—Ç—å —Ç—É—Ç](https://github.com/KohakuBlueleaf/LyCORIS/blob/document/docs/Guidelines.md) –∏–ª–∏ –∂–µ [–ø–µ–π–ø–µ—Ä](https://browse.arxiv.org/pdf/2309.14859.pdf), –≤—ã–±–æ—Ä –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –±—É–¥–µ—Ç –≤–ª–∏—è—Ç—å –Ω–∞ –≤—Å—é –ø–æ—Å–ª–µ–¥—É—é—â—É—é —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É, –º–æ–∂–Ω–æ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∞—Ç—å –¥–∞–∂–µ –≤–ø–ª–æ—Ç—å –¥–æ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ —á–µ–∫–ø–æ–∏–Ω—Ç–∞. –¢–∞–∫ –∂–µ –º–æ–∂–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ —Å–ª–æ—ë–≤ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ ```"train_norm=True"```, —Ç—Ä–µ–Ω–∏—Ä—É–µ–º—ã–π [–ø—Ä–µ—Å–µ—Ç](https://github.com/KohakuBlueleaf/LyCORIS/blob/e4259b870d3354a9615a96be61cb5d07455c58ea/lycoris/config.py) —á–∞—Å—Ç–µ–π –Ω–µ—Ç–≤–æ—Ä–∫–∞ —Å –≤–æ–∑–º–æ–∂–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏: ```full, full-lin, attn-mlp, attn-only, unet-only, unet-transformer-only, unet-convblock-only```. –ê —Ç–∞–∫ –∂–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –ø–æ —Ç–∏–ø—É ```"use_cp=True"``` [–¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ conv —Å–ª–æ—ë–≤ –ø–æ—Å—Ä–µ–¥—Å—Ç–≤–æ–º –ø–æ—Ç–µ—Ä–∏ —Ç–æ—á–Ω–æ—Å—Ç–∏](https://github.com/bmaltais/kohya_ss/blob/31b26d59d3988980e4ecab464ae19efca06b80dd/lora_gui.py#L1181) –∏–ª–∏ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –∫–∞–∫ –Ω–∞–ø—Ä–∏–º–µ—Ä –¥–ª—è LoKR: ```"factor=4"```.

#### Lycoris
[–ü—Ä–æ–µ–∫—Ç](https://github.com/KohakuBlueleaf/LyCORIS) –æ–¥–Ω–æ–≥–æ –Ω–µ—Ä–∞–≤–Ω–æ–¥—É—à–Ω–æ–≥–æ –∞–Ω–∏–º–µ—à–Ω–∏–∫–∞ –¥–ª—è –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏–∏ –Ω–æ–≤—ã—Ö –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –≤ —Å–¥-—Å–∫—Ä–∏–ø—Ç—Å. –ò–∑ —ç—Ç–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ —è –º–æ–≥—É –≤—ã–¥–µ–ª–∏—Ç—å –ª–∏—à—å –æ–¥–∏–Ω –¥–æ—Å—Ç–æ–π–Ω—ã–π –≤–Ω–∏–º–∞–Ω–∏—è –∞–ª–≥–æ—Ä–∏—Ç–º.
##### LoCon
–í –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∫ Attention —Å–ª–æ—è–º —Ç—Ä–µ–Ω–∏—Ä—É–µ–º—ã–º –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–π Linear LoRA, —ç—Ç–æ—Ç –∞–ª–≥–æ—Ä–∏—Ç–º [—Ç—Ä–µ–Ω–∏—Ä—É–µ—Ç Convolution —Å–ª–æ–∏ –±–ª–æ–∫–æ–≤ ResNet UNet'–∞](https://files.catbox.moe/7q4yn8.png).
- **conv_dim** - —Ç–æ–∂–µ —Å–∞–º–æ–µ, —á—Ç–æ –∏ network_dim, —Ç–æ–ª—å–∫–æ –¥–ª—è —ç—Ç–∏—Ö —Å–ª–æ—ë–≤. –†–∞–∑–º–µ—Ä —ç—Ç–∏—Ö —Å–ª–æ—ë–≤ —Å–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è —Å —Ä–∞–∑–º–µ—Ä–æ–º network_dim –≤ –≤—ã—Ö–æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ. –•–æ—Ä–æ—à–∏–º –∑–Ω–∞—á–µ–Ω–∏–µ–º –±—É–¥–µ—Ç **network_dim/2-4**, –Ω–∞–ø—Ä–∏–º–µ—Ä –ø—Ä–∏ network_dim=64 —ç—Ç–æ –±—É–¥–µ—Ç **32**.
- **conv_alpha** -  —Ç–æ–∂–µ —Å–∞–º–æ–µ, —á—Ç–æ –∏ network_alpha, —Ç–æ–ª—å–∫–æ –¥–ª—è —ç—Ç–∏—Ö —Å–ª–æ—ë–≤.

–≠—Ç–∏ —Å–ª–æ–∏ –º–æ–∂–Ω–æ –Ω–∞–∫–∏–¥—ã–≤–∞—Ç—å –≤ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∫ –ª—é–±–æ–º—É –¥—Ä—É–≥–æ–º—É –∞–ª–≥–æ—Ä–∏—Ç–º—É, –∏–ª–∏ –∫ –æ–±—ã—á–Ω–æ–π –ª–æ—Ä–µ. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —ç—Ç–∏—Ö –¥–æ–ø. —Å–ª–æ—ë–≤ –æ—á–µ–Ω—å –±–ª–∞–≥–æ—Ç–≤–æ—Ä–Ω–æ –≤–ª–∏—è–µ—Ç –Ω–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É —Å—Ç–∏–ª–µ–π, —á–µ–≥–æ –Ω–µ–ª—å–∑—è —Å–∫–∞–∑–∞—Ç—å –æ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞—Ö, –æ—Å–æ–±–µ–Ω–Ω–æ —Å –¥–∞—Ç–∞—Å–µ—Ç–æ–º –≤ –æ–¥–Ω–æ–º —Å—Ç–∏–ª–µ. –Ø–≤–ª—è–µ—Ç—Å—è –µ—â—ë –æ–¥–Ω–∏–º —Å–∏–ª—å–Ω—ã–º –±—É—Å—Ç–µ—Ä–æ–º –∫–∞—á–µ—Å—Ç–≤–∞ –∏ –∑–∞–º–µ–¥–ª–∏—Ç–µ–ª–µ–º —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏. –ë–æ–ª—å—à–µ —Ç—Ä–µ–Ω–∏—Ä—É–µ–º—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –≤—ã–∑—ã–≤–∞–µ—Ç —Å–Ω–∏–∂–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏, –∏ —Ç–æ—á–Ω–æ —Ç–∞–∫–∂–µ –∑–∞–º–µ–¥–ª—è–µ—Ç —Å–∫–æ—Ä–æ—Å—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –≤ –∏–Ω—Ñ–µ—Ä–µ–Ω—Å —Ç–∞–π–º–µ –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —Ç–∞–∫–æ–π –ª–æ—Ä—ã. –¢—Ä–µ–±—É–µ—Ç —É–≤–µ–ª–∏—á–µ–Ω–∏—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏, –æ—á–µ–Ω—å –ø–æ–º–æ–≥–∞–µ—Ç –∏–∑–±–µ–∂–∞—Ç—å –ø–µ—Ä–µ–∂–∞—Ä–∞, –¥–∞–∂–µ —Å –Ω–µ–∞–¥–µ–∫–≤–∞—Ç–Ω—ã–º–∏ –ª—Ä –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —á—Ç–æ-—Ç–æ –ø—Ä–∏–µ–º–ª–µ–º–æ–µ.

### --resolution ($resolution)
–†–∞–∑—Ä–µ—à–µ–Ω–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏. –°–∞–º—ã–π –≥–ª–∞–≤–Ω—ã–π –ø–æ–≤—ã—à–∞—Ç–µ–ª—å –∫–∞—á–µ—Å—Ç–≤–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏. –ö–∞–∂–¥—ã–µ +64 –ø–∏–∫—Å–µ–ª—è –¥–∞—é—Ç –æ–≥—Ä–æ–º–Ω—ã–π –ø—Ä–∏—Ä–æ—Å—Ç –º–µ–ª–∫–∏—Ö –¥–µ—Ç–∞–ª–µ–π –∏ –ø–µ—Ä–µ–Ω–æ—Å–∏–º–æ—Å—Ç—å —Å—Ç–∏–ª—è. –ü–æ–≤—ã—à–∞—Ç—å —Å–ª–µ–¥—É–µ—Ç –≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å, —É—á–∏—Ç—ã–≤–∞—è —Å–≤–æ–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –≤—Ä–∞–º, –ø–æ—Ç–æ–º—É —á—Ç–æ —ç—Ç–æ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä –ø–æ —Å–æ–≤–º–µ—Å—Ç–∏—Ç–µ–ª—å—Å—Ç–≤—É —Å–∞–º—ã–π —Å–∏–ª—å–Ω—ã–π –∑–∞–º–µ–¥–ª–∏—Ç–µ–ª—å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏. –í–æ-–ø–µ—Ä–≤—ã—Ö, –±–æ–ª—å—à–µ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ —Å–Ω–∏–∂–∞–µ—Ç —Å–∫–æ—Ä–æ—Å—Ç—å –∏—Ç–µ—Ä–∞—Ü–∏–π —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏, –≤–æ-–≤—Ç–æ—Ä—ã—Ö –Ω–∞–º–Ω–æ–≥–æ –±–æ–ª–µ–µ —Å–ª–∞–±–æ–µ –ø—Ä–æ—è–≤–ª–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –Ω–∞ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö —à–∞–≥–∞—Ö. –ü—Ä–∏–º–µ—Ä–Ω—ã–µ —Ü–∏—Ñ—Ä—ã –ø—Ä–∏ –ø–æ–≤—ã—à–µ–Ω–∏–∏ —Å 512 –¥–æ 768 —ç—Ç–æ —Ö2 —à–∞–≥–æ–≤ –º–∏–Ω–∏–º—É–º, –≤ —Ç—Ä–µ—Ç—å–∏—Ö –∏–∑-–∑–∞ –±–æ–ª—å—à–µ–≥–æ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è –≤—Ä–∞–º, –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫—É–¥–∞ –±–æ–ª–µ–µ –º–µ–Ω—å—à–∏–π –±–∞—Ç—á —Å–∞–π–∑, —á—Ç–æ –≤ —Å–≤–æ—é –æ—á–µ—Ä–µ–¥—å –µ—â—ë –±–æ–ª—å—à–µ –∑–∞–º–µ–¥–ª–∏—Ç –¥–µ–ª–æ.

#### --train_batch_size ($train_batch_size)
–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞—Ä—Ç–∏–Ω–æ–∫ –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –±—É–¥–µ—Ç –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤—ã–≤–∞—Ç—å—Å—è —Å—Ä–µ–¥–Ω–µ–º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≥—Ä–∞–¥–∏–µ–Ω—Ç–∞ –∏ –≤–µ—Å–æ–≤. –°—Ç–æ–∏—Ç —Å—Ç–∞–≤–∏—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –≤–æ–∑–º–æ–∂–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, –ø–æ–∑–≤–æ–ª—è–µ–º–æ–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏ –≤—Ä–∞–º, —Ç–∞–∫ –∫–∞–∫ –∫–∞–∂–¥—ã–π +1 —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –µ—ë –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ. –£ –∫–∞—Ä—Ç —Å –Ω–∏–∑–∫–∏–º –≤—Ä–∞–º –∑–Ω–∞—á–µ–Ω–∏—è –≤—ã—à–µ 1-2 –Ω–µ–¥–æ—Å—è–≥–∞–µ–º—ã, –ø–æ—ç—Ç–æ–º—É –∫–∞–∂–¥–∞—è –∫–∞—Ä—Ç–∏–Ω–∫–∞ –¥–∞—Ç–∞—Å–µ—Ç–∞ –±—É–¥–µ—Ç –≤–ª–∏—è—Ç—å –Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å–∏–ª—å–Ω–µ–µ, —á–µ–º —Å—Ä–∞–∑—É –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ–º–ø–ª–æ–≤, –∫–∞–∫ –≤ —Å–ª—É—á–∞–µ —Å 24–≥–± –∫–∞—Ä—Ç–∞–º–∏, —á—Ç–æ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è —á–µ–º —Ç–æ —Ö–æ—Ä–æ—à–∏–º, –Ω–æ –µ—Å–ª–∏ –¥–∞—Ç–∞—Å–µ—Ç –æ—Ç–ø–æ–ª–∏—Ä–æ–≤–∞–Ω, —Ç–æ –Ω–µ —Å—Ç—Ä–∞—à–Ω–æ. –ï—Å—Ç—å –∑–∞–±–ª—É–∂–¥–µ–Ω–∏–µ, —á—Ç–æ —ç—Ç–æ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä —Ç—Ä–µ–±—É–µ—Ç –ø–æ–≤—ã—à–∞—Ç—å –ª—Ä –¥–ª—è –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏, –Ω–æ —ç—Ç–æ –Ω–µ —Ç–∞–∫. –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ª–∏—à—å –Ω–µ —Å—Ç–∞–≤–∏—Ç—å –µ–≥–æ –±–æ–ª—å—à–∏–º, –µ—Å–ª–∏ –¥–∞—Ç–∞—Å–µ—Ç —Ç–æ–∂–µ —è–≤–ª—è–µ—Ç—Å—è –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±–æ–ª—å—à–∏–º –∏ —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–º, –Ω–∞–ø—Ä–∏–º–µ—Ä –±—Å5 –∏ 15 –∫–∞—Ä—Ç–∏–Ω–æ–∫ –±—É–¥–µ—Ç –ø–ª–æ—Ö–∏–º –≤—ã–±–æ—Ä–æ–º.

#### --gradient_accumulation_steps ($gradient_accumulation_steps)
–ò–º–∏—Ç–∞—Ç–æ—Ä –±–∞—Ç—á —Å–∞–π–∑–∞ –¥–ª—è —Ç–µ—Ö, —É –∫–æ–≥–æ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ VRAM –¥–ª—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ –±–∞—Ç—á —Å–∞–π–∑–∞. –û–±—ä–µ–¥–∏–Ω—è–µ—Ç—Å—è —Å batch size –ø–æ–¥–æ–±–Ω—ã–º –æ–±—Ä–∞–∑–æ–º bs x ga. –û–±—â–∞—è —Ñ–æ—Ä–º—É–ª–∞ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –≤–µ—Å–æ–≤ —Ç–µ–º —Å–∞–º—ã–º –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∏–∫—á —Ö –ø–æ–≤—Ç–æ—Ä—ã —Ö —ç–ø–æ—Ö–∏) / bs x ga.

#### --gradient_checkpointing ($gradient_checkpointing)
–ü–∞—Ä–∞–º–µ—Ç—Ä –¥–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è –ø–æ—Ç—Ä–µ–±–ª—è–µ–º–æ–π VRAM, –ø–æ—Å—Ä–µ–¥—Å—Ç–≤–æ–º –ø–ª–∞—Ç—ã –∑–∞ —ç—Ç–æ —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–º –∑–∞–º–µ–¥–ª–µ–Ω–∏–µ–º —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏.

### --noise_offset ($noise_offset)
–£–∂–∞—Å–Ω–∞—è –∑–∞–ø–ª–∞—Ç–∫–∞, —Å –ø–æ–º–æ—â—å—é –∫–æ—Ç–æ—Ä–æ–π –º–æ–∂–Ω–æ —Ä–µ—à–∏—Ç—å [–ø—Ä–æ–±–ª–µ–º—É –¥–∏—Å—Ç—Ä–∏–±—É—Ü–∏–∏ —à—É–º–∞, –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—á–µ–Ω—å —Ç—ë–º–Ω—ã—Ö –∏–ª–∏ –æ—á–µ–Ω—å —Å–≤–µ—Ç–ª—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∑–∞ –ø—Ä–∏–µ–º–ª–µ–º–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —à–∞–≥–æ–≤ —Å–µ–º–ø–ª–µ—Ä–∞](https://www.crosslabs.org/blog/diffusion-with-offset-noise). –£–∂–∞—Å–Ω–∞—è –æ–Ω–∞ –ø–æ—Ç–æ–º—É —á—Ç–æ –ø—Ä–∏ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ —Å –µ—â—ë –æ–¥–Ω–æ–π –º–æ–¥–µ–ª—å—é/–ª–æ—Ä–æ–π –Ω–∞—Ç—Ä–µ–Ω–µ–Ω–Ω–æ–π —Ç–∞–∫–∏–º —Å–ø–æ—Å–æ–±–æ–º –∫–∞—Ä—Ç–∏–Ω–∫–∞ —Å–≥–æ—Ä–∏—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç—É –æ–¥–Ω–æ—Ä–∞–∑–æ–≤—É—é –∑–∞–ø–ª–∞—Ç–∫—É —è –∫—Ä–∞–π–Ω–µ –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É—é. [–°–ª–µ–≤–∞](https://files.catbox.moe/l14is8.jpeg) –º–æ–∂–Ω–æ –Ω–∞–±–ª—é–¥–∞—Ç—å –ø—Ä–∏–º–µ—Ä —Ç–∞–∫–æ–≥–æ —Å–æ–∂–∂–µ–Ω–∏—è. –ï—Å–ª–∏ –¥–∞–Ω–Ω–∞—è –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–∞ –Ω–µ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç, —Ö–æ—Ä–æ—à–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ —Ä–∞–π–æ–Ω–µ **0.05-0.1**.

#### --multires_noise_iterations –∏ --multires_noise_discount
[–ï—â—ë –æ–¥–Ω–∞](https://wandb.ai/johnowhitaker/multires_noise/reports/Multi-Resolution-Noise-for-Diffusion-Model-Training--VmlldzozNjYyOTU2) –∑–∞–ø–ª–∞—Ç–∫–∞, –ø—Ä–∏–∑–≤–∞–Ω–Ω–∞—è —Ä–µ—à–∏—Ç—å —Ç—É –∂–µ –ø—Ä–æ–±–ª–µ–º—É. –ò–∑ —Ç–æ–≥–æ —á—Ç–æ —è —É—Å–ø–µ–ª –ø–æ—Ç–µ—Å—Ç–∏—Ç—å, —ç—Ç–∞ –≤–µ—Ä—Å–∏—è –Ω–µ –∏–º–µ–µ—Ç —Ç–∞–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º —Å –ø—Ä–æ–∂–∞—Ä–∫–æ–π, –Ω–æ –∏ —Ç—Ä–µ–Ω–∏—Ç —Å—Ç–∏–ª–∏ –∫–∞–∫ —Ç–æ —Ö—É–∂–µ. –ù–µ –º–æ–≥—É —Å–∫–∞–∑–∞—Ç—å —Ç–æ—á–Ω–æ —Å—Ç–æ–∏—Ç –ª–∏ —ç—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å, –Ω–æ —è –±—ã –Ω–µ —Å—Ç–∞–ª.

### Tensorboard
–Ø –æ—á–µ–Ω—å –º–Ω–æ–≥–æ —á–∏—Ç–∞–ª –∫–∞–∫ —É–º–Ω—ã–µ –∏ –Ω–µ —Å–æ–≤—Å–µ–º –¥—è–¥—å–∫–∏ —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞—é—Ç –ø—Ä–æ —Ç–æ, —á—Ç–æ –≤ —Ç–µ–Ω–∑–æ—Ä–±–æ—Ä–¥–µ –¥–æ–ª–∂–Ω–æ –≤—Å—ë –±—ã—Ç—å –∫–∞–∫ –ø–æ —É—á–µ–±–Ω–∏–∫—É —Å –Ω–∏—Å—Ö–æ–¥—è—â–∏–º Loss'–æ–º. –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Ç–∞–∫, –Ω–æ –Ω–µ –≤ —Å–ª—É—á–∞–µ —Å –∫–æ—Ö—å–µ–≤—Å–æ–π –¥–µ—Ñ–æ–ª—Ç–Ω–æ–π MSE (Mean squared error) —Ñ—É–Ω–∫—Ü–∏–µ–π –µ–≥–æ –ø–æ–¥—Å—á—ë—Ç–∞, –ø–æ –∫—Ä–∞–π–Ω–µ–π –º–µ—Ä–µ –¥–ª—è —Ç–∞–∫–∏—Ö –±—ã—Å—Ç—Ä—ã—Ö —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫. –ü—Ä–æ–±–ª–µ–º–∞ –≤ —Ç–æ–º, —á—Ç–æ –æ–Ω–∞ –ø–æ–∫–∞–∂–µ—Ç –ª–∏—à—å –ø–æ–ª–Ω—ã–π –ø—Ä–æ–≤–∞–ª —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏. –í–æ—Ç —Ç—Ä–∏ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ —Å –≥—Ä–∞—Ñ–∏–∫–∞–º–∏: 

1. Normal train | 2. Boom shakalaka | 3. Overfit and underfit
------ | ------ | ------
[![Normal train](https://files.catbox.moe/3au4ak.png)](https://files.catbox.moe/3au4ak.png) | [![Boom shakalaka](https://files.catbox.moe/uemxbo.png)](https://files.catbox.moe/uemxbo.png) | [![Overfit and underfit](https://files.catbox.moe/ap5mwq.png)](https://files.catbox.moe/ap5mwq.png)

–ù–∞ –ø–µ—Ä–≤–æ–º –∞–±—Å–æ–ª—é—Ç–Ω–æ –Ω–æ—Ä–º–∞–ª—å–Ω–∞—è –ª–æ—Ä–∞ —Å —Ö–æ—Ä–æ—à–æ –ø–æ–ª—É—á–∏–≤—à–µ–π—Å—è —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–µ–π, *–ø–æ —É—á–µ–±–Ω–∏–∫—É* —è –¥–æ–ª–∂–µ–Ω –±—ã–ª –≤–∑—è—Ç—å 18 —ç–ø–æ—Ö—É, –≤–µ–¥—å —Ç–∞–º —Å–∞–º–æ–µ –Ω–∏–∑–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ—Ç–µ—Ä—å, –Ω–æ –µ—Å–ª–∏ –≤–∑–≥–ª—è–Ω—É—Ç—å –Ω–∞ –æ–±—â—É—é –∫–∞—Ä—Ç–∏–Ω—É, –Ω–∏ –æ–¥–Ω–∞ —ç–ø–æ—Ö–∞ –Ω–µ –ø—Ä–µ–≤—ã—à–∞–µ—Ç –ø–µ—Ä–≤—É—é –ø–æ –∑–Ω–∞—á–µ–Ω–∏—é, –∏ –º–æ–∂–Ω–æ —Å–ø–æ–∫–æ–π–Ω–æ –≤—ã–±—Ä–∞—Ç—å –ª—é–±—É—é. –ù–∞ –≤—Ç–æ—Ä–æ–º –Ω–∞–º–µ—Ä–µ–Ω–Ω–æ –≤—ã—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–π —Ö15 –ª—Ä –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ —á—Ç–æ –¥–µ–π—Å—Ç–≤—Ç–∏—Ç–µ–ª—å–Ω–æ –ø–æ–∫–∞–∂–µ—Ç —Ç–µ–Ω–∑–æ—Ä–±–æ—Ä–¥, —Ç–∞–∫–æ–≥–æ –Ω–∞–¥–æ –∏–∑–±–µ–≥–∞—Ç—å, —Ç—Ä–µ–Ω–¥ –≤ –∏–¥–µ–∞–ª–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∏–ª–∏ –Ω–∏—Å—Ö–æ–¥—è—â–∏–º, –∏–ª–∏ —Ö–æ—Ç—è –±—ã —Ç–æ–ø—á—É—â–∏–º—Å—è –Ω–∞ –º–µ—Å—Ç–µ. –ù–∞ —Ç—Ä–µ—Ç—å–µ–º —Å–∫—Ä–∏–Ω—à–æ—Ç–µ –∫—Å—Ç–∞—Ç–∏ —Ç–µ –¥–≤–∞ –Ω–µ—Ç–≤–æ—Ä–∫–∞ –∏–∑ –≥—Ä–∏–¥–æ–≤ –ø—Ä–æ –æ–≤–µ—Ä—Ñ–∏—Ç –∏ –∞–Ω–¥–µ—Ä—Ñ–∏—Ç –ø–æ–≤—ã—à–µ.
–ï—Å–ª–∏ –∏ —ç—Ç–æ –Ω–µ –æ—Å—Ç–∞–Ω–æ–≤–∏–ª–æ —á–∏—Ç–∞—é—â–µ–≥–æ —ç—Ç–æ—Ç –≥–∞–π–¥ –∏ –æ–Ω –≤—Å—ë –µ—â—ë —Ö–æ—á–µ—Ç –≤–∑–≥–ª—è–Ω—É—Ç—å –≤ –±–µ–∑–¥–Ω—É, —ç—Ç–æ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –≤—Å—ë —á–µ—Ä–µ–∑ —Ç–æ—Ç –∂–µ venv. –í–Ω–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–∞–π–¥–∏—Ç–µ –ø–∞–ø–∫—É —Å —Å–¥-—Å–∫—Ä–∏–ø—Ç—Å, –æ—Ç–∫—Ä–æ–π—Ç–µ —Ç–∞–º –ø–æ–≤–µ—Ä—à–µ–ª–ª –∏ –≤–≤–µ–¥–∏—Ç–µ —Ç–∞–º –∫–æ–º–∞–Ω–¥—ã:

```powershell
.\venv\Scripts\Activate.ps1
tensorboard --logdir="–ø—É—Ç—å –∫ –ø–∞–ø–∫–µ —Å –ª–æ–≥–∞–º–∏"
```
–ê –¥–∞–ª—å—à–µ —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä —Å—Ç–æ–∏—Ç –ø—Ä–æ—Å–ª–µ–¥–æ–≤–∞—Ç—å –ø–æ [—ç—Ç–æ–º—É –∞–¥—Ä–µ—Å—É](http://localhost:6006/).

#### --logging_dir ($logging_dir)
–°–æ–±—Å—Ç–≤–µ–Ω–Ω–æ –ø–∞–ø–∫–∞ –≤ –∫–æ—Ç–æ—Ä—É—é –≤–æ –≤—Ä–µ–º—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –±—É–¥—É—Ç –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å—Å—è –ª–æ–≥–∏ –¥–ª—è —Ç–µ–Ω–∑–æ—Ä–±–æ—Ä–¥–∞.

#### --log_prefix ($log_prefix)
–ü—Ä–µ—Ñ–∏–∫—Å –¥–ª—è –ª–æ–≥–æ–≤. –ü–æ–ª–µ–∑–Ω–æ, –µ—Å–ª–∏ —Ç—Ä–µ–Ω–∏—Ç—å –º–Ω–æ–≥–æ —Å–µ—Ç–æ–∫. –ú–æ–∂–Ω–æ –∑–∞–¥–∞–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ, –Ω–∞–ø—Ä–∏–º–µ—Ä –∫–∞–∫ –≤ —Å–∫—Ä–∏–ø—Ç–µ: ```$log_prefix = "$output_name" + "_"``` 

### –ü—É—Ç–∏ –¥–ª—è —Ñ–∞–π–ª–æ–≤ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏

#### --pretrained_model_name_or_path ($ckpt)
–ü—É—Ç—å –∫ —á–µ–∫–ø–æ–∏–Ω—Ç—É —Å –∫–æ—Ç–æ—Ä–æ–≥–æ –±—É–¥–µ—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞.

#### --output_dir ($output_dir)
–ü—É—Ç—å –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É –±—É–¥—É—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è –Ω–∞—Ç—Ä–µ–Ω–µ–Ω–Ω—ã–µ –ª–æ—Ä—ã.

#### --output_name ($output_name)
–ò–º—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤ –ª–æ—Ä.

#### --train_data_dir ($image_dir)
–ü—É—Ç—å –∫ –¥–∞—Ç–∞—Å—Ç–µ—É.

#### --vae ($vae_path)
–ü—É—Ç—å –∫ –≤–∞–µ. –ï—Å—Ç—å —Ä–∞–∑–Ω—ã–µ –º–Ω–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–∏ –æ—Ç–¥–µ–ª—å–Ω–æ–µ, –Ω–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ –≤ –º–æ–¥–µ–ª—å –≤–∞–µ –≤–æ –≤—Ä–µ–º—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –∏–ª–∏ –Ω–µ—Ç, —è –ª–∏—á–Ω–æ –ø—Ä–∏–¥–µ—Ä–∂–∏–≤–∞—é—Å—å —Ç–æ–≥–æ, —á—Ç–æ –µ—Å–ª–∏ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ —Ç–æ–ª—å–∫–æ –≤–æ—Ç [—ç—Ç–æ](https://huggingface.co/stabilityai/sd-vae-ft-mse-original/resolve/main/vae-ft-mse-840000-ema-pruned.safetensors), –∏–∑ –º–æ–∏—Ö —Ç–µ—Å—Ç–æ–≤ –æ–Ω–æ –¥–∞–≤–∞–ª–æ –±–æ–ª–µ–µ –ª—É—á—à—É—é –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—é, –Ω–µ–∂–µ–ª–∏ —Ç–æ —á—Ç–æ –ø–æ –¥–µ—Ñ–æ–ª—Ç—É –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ NAI —á–µ–∫–ø–æ–∏–Ω—Ç–µ.

#### $sd_scripts_dir (—Ç–æ–ª—å–∫–æ –≤ —Å–∫—Ä–∏–ø—Ç–µ)
–ü—É—Ç—å –¥–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö sd-scripts.

### --max_token_length ($max_token_length)
–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ –¥–ª—è —Ç–æ–∫–µ–Ω–æ–≤ –≤ –æ–ø–∏—Å–∞–Ω–∏—è—Ö –∫ –ø–∏–∫—á–∞–º. –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–æ—Å—Ç–æ —Å—Ä–∞–∑—É –ø–æ—Å—Ç–∞–≤–∏—Ç—å 225 –∏ –Ω–µ –ø–∞—Ä–∏—Ç—å—Å—è –æ–± —ç—Ç–æ–º –ø–∞—Ä–∞–º–µ—Ç—Ä–µ –±–æ–ª—å—à–µ –Ω–∏–∫–æ–≥–¥–∞.

#### --shuffle_caption ($shuffle_caption)
–ü–µ—Ä–µ–º–µ—à–∏–≤–∞–Ω–∏–µ –æ–ø–∏—Å–∞–Ω–∏–π –∫ –ø–∏–∫—á–∞–º –∫–∞–∂–¥—É—é —ç–ø–æ—Ö—É, –ø–æ–ª–µ–∑–Ω–∞—è —à—Ç—É–∫–∞, –ª—É—á—à–µ —Ç–æ–∂–µ –≤–∫–ª—é—á–∞—Ç—å.

#### --keep_tokens ($keep_tokens)
–°–æ—Ö—Ä–∞–Ω—è—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ, —É–∫–∞–∑–∞–Ω–Ω–æ–µ –≤ —ç—Ç–æ–º –ø–∞—Ä–∞–º–µ—Ç—Ä–µ, **—Ç–µ–≥–æ–≤** –æ—Ç –ø–µ—Ä–µ–º–µ—à–∏–≤–∞–Ω–∏–π. –≠—Ç–æ –∞—Ä–≥—É–º–µ–Ω—Ç –ø–æ–ª–µ–∑–µ–Ω –ª–∏—à—å –≤ —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–º—è –ø–µ—Ä—Å–æ–Ω–∞–∂–∞/–Ω–∞–∑–≤–∞–Ω–∏–µ –∫–æ–Ω—Ü–µ–ø—Ç–∞ –∏ –æ–Ω–æ —Å—Ç–æ–∏—Ç –Ω–∞ –ø–µ—Ä–≤–æ–º –º–µ—Å—Ç–µ –≤–æ –≤—Å–µ—Ö –æ–ø–∏—Å–∞–Ω–∏—è—Ö –∫ –∫–∞—Ä—Ç–∏–Ω–∫–∞–º. –ù–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞, –≤—Å–µ –∫–∞—Ä—Ç–∏–Ω–∫–∏ —Å–æ—Å—Ç–æ—è—Ç –∏–∑ –Ω–µ–≥–æ –∏ –ø–µ—Ä–≤—ã–º —Ç–µ–≥–æ–º –∏–¥—ë—Ç *shiina mayuri*. –ü—Ä–∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ —Å—Ç–∏–ª–µ–π –Ω–µ –∏–º–µ–µ—Ç –æ—Å–æ–±–æ–≥–æ —ç—Ñ—Ñ–µ–∫—Ç–∞ –∏ –ª—É—á—à–µ —Å—Ç–∞–≤–∏—Ç—å 0, –Ω–µ –≤—ã–¥–µ–ª—è—è –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ —Ç–µ–≥–∞ –∏ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—è –µ–≥–æ.

#### --clip_skip ($clip_skip)
–°–æ–±—Å—Ç–≤–µ–Ω–Ω–æ —Å–∞–º –∫–ª–∏–ø —Å–∫–∏–ø, —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ —Ç–æ–º—É –∂–µ –ø—Ä–∏–Ω—Ü–∏–ø—É, –∫–∞–∫ —Å –ø—Ä–æ—Å—Ç–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π, –¥–ª—è –∞–Ω–∏–º–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ —Å—Ç–∞–≤–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ 2, –¥–ª—è —Ä–µ–∞–ª–∏–∑–º–∞ 1.

#### --seed ($seed)
–ü—Ä–∏–º–µ—Ä–Ω–∞—è –∞–Ω–∞–ª–æ–≥–∏—è —Å —Å–∏–¥–æ–º, –∫–∞–∫ –∏ –≤–æ –≤—Ä–µ–º—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–π, —Ç–æ–∂–µ –Ω—É–∂–Ω–æ —Å —á–µ–≥–æ —Ç–æ –Ω–∞—á–∞—Ç—å. –ù–∏–∫–∞–∫ –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É, –º–æ–∂–Ω–æ –≥–µ–Ω–µ—Ä–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–∞–∂–¥—ã–π —Ä–∞–∑ —Ä–∞–Ω–¥–æ–º–Ω—ã–π, –∏–ª–∏ –≤—ã–±—Ä–∞—Ç—å –∫–∞–∫–æ–π –Ω–∏–±—É–¥—å *lucky number* –Ω–∞ —É–¥–∞—á—É.

### --max_train_epochs ($max_train_epochs)
–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ø–æ—Ö (–ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π –≤—Å–µ–≥–æ –¥–∞—Ç–∞—Å–µ—Ç–∞) –≤ —Ç–µ—á–µ–Ω–∏–∏ –∫–æ—Ç–æ—Ä—ã—Ö –±—É–¥–µ—Ç —Ç—Ä–µ–Ω–∏—Ç—å—Å—è —Å–µ—Ç—å.

#### --max_train_steps ($max_train_steps)
–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —à–∞–≥–æ–≤ –≤ —Ç–µ—á–µ–Ω–∏–∏ –∫–æ—Ç–æ—Ä—ã—Ö –±—É–¥–µ—Ç —Ç—Ä–µ–Ω–∏—Ç—å—Å—è —Å–µ—Ç—å. –í—ã—Å—Ç–∞–≤–ª—è—Ç—å –Ω—É–∂–Ω–æ –ª–∏–±–æ —ç—Ç–æ, –ª–∏–±–æ —ç–ø–æ—Ö–∏. –≠–ø–æ—Ö–∏, —Ç–µ–º –Ω–µ –º–µ–Ω–µ–µ, –≤—Å—ë —Ä–∞–≤–Ω–æ –±—É–¥—É—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è, –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª–Ω–æ–≥–æ –ø—Ä–æ—Ö–æ–¥–∞ –ø–æ –¥–∞—Ç–∞—Å–µ—Ç—É.
–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –ø—Ä–µ–¥–µ–ª—å–Ω–æ–º—É –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –∏—Ç–µ—Ä–∞—Ü–∏–π –ø–æ –∫–∞—Ä—Ç–∏–Ω–∫–∞–º **–¥–æ –¥–µ–ª–µ–Ω–∏—è** —ç—Ç–æ–≥–æ —á–∏—Å–ª–∞ –Ω–∞ batch size, —Å —É—á–µ—Ç–æ–º –≤—Å–µ—Ö –≤–∫–ª—é—á—ë–Ω–Ω—ã—Ö —É–ª—É—á—à–∞—Ç–µ–ª–µ–π —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –∫–∞—Ä—Ç–∏–Ω–æ–∫:
- –û—Ç 8000 –¥–æ 12000 –¥–ª—è —Å—Ç–∏–ª–µ–π. –û—Ç 400 –¥–æ 600 –∏—Ç–µ—Ä–∞—Ü–∏–π –Ω–∞ —ç–ø–æ—Ö—É.
- –û—Ç 2000 –¥–æ 7000 –¥–ª—è –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π, –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ —á–∞—Ä–∞, –≥—Ä–∞–º–æ—Ç–Ω–æ–≥–æ –ø–æ–¥–±–æ—Ä–∞ —Ç–µ–≥–æ–≤ –∏ –æ—Å–≤–µ–¥–æ–º–ª–µ–Ω–Ω–æ—Å—Ç–∏ –º–æ–¥–µ–ª–∏ –æ –Ω—ë–º. –û—Ç 300 –¥–æ 500 –∏—Ç–µ—Ä–∞—Ü–∏–π –Ω–∞ —ç–ø–æ—Ö—É.

#### --save_every_n_epochs ($save_every_n_epochs)
–ö–∞–∫ —á–∞—Å—Ç–æ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å —ç–ø–æ—Ö–∏. –õ—É—á—à–µ –ø–æ—Å—Ç–∞–≤–∏—Ç—å 1, —á—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –∫–∞–∂–¥—É—é.

#### --save_last_n_epochs ($save_last_n_epochs)
–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —ç–ø–æ—Ö, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è. –ß—Ç–æ–±—ã –≤–¥—Ä—É–≥ –Ω–∏—á–µ–≥–æ –Ω–µ —É–¥–∞–ª–∏–ª–æ—Å—å –ª—É—á—à–µ —Å—Ç–∞–≤–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –±–æ–ª—å—à–µ, —á–µ–º –±—É–¥–µ—Ç –≤—Å–µ–≥–æ –Ω–∞—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —ç–ø–æ—Ö.

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ —Å—Ç–æ–∏—Ç —É–ø–æ–º—è–Ω—É—Ç—å

#### --cache_latents –∏ --cache_latents_to_disk
–ú–æ–≥—É—Ç –ø–æ–º–æ—á—å —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –µ—â—ë –Ω–µ–º–Ω–æ–∂–µ—á–∫–æ –≤—Ä–∞–º, –æ—Å–æ–±–µ–Ω–Ω–æ –≤–Ω–∞—á–∞–ª–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏. –ù–æ –µ—Å–ª–∏ –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –¥–∏—Å–∫, –º–æ–≥—É—Ç –≤–æ–∑–Ω–∏–∫–Ω—É—Ç—å —Ä–∞–∑–Ω–æ–≥–æ —Ä–æ–¥–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –≤ –¥–∞–ª—å–Ω–µ–π—à–µ–º, –ø–æ—ç—Ç–æ–º—É –µ—Å–ª–∏ –≤–∏–¥–∏—Ç–µ –∫–∞–∫–∏–µ —Ç–æ —Å—Ç—Ä–∞–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏, –ø–µ—Ä–≤—ã–º –¥–µ–ª–æ–º –ª—É—á—à–µ –±—É–¥–µ—Ç –≤—ã—á–∏—Å—Ç–∏—Ç—å —ç—Ç–∏ .npz —Ñ–∞–π–ª—ã –∏–∑ –¥–∞—Ç–∞—Å–µ—Ç–∞.

#### --xformers
–£—Å–∫–æ—Ä—è–µ—Ç –∏ —Å–µ–π–≤–∏—Ç –≤—Ä–∞–º —Ç–∞–∫–∂–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –∫–∞–∫ –∏ –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏, —Å—Ç–æ–∏—Ç –≤–∫–ª—é—á–∞—Ç—å –≤—Å–µ–≥–¥–∞.

#### --enable_bucket, --min_bucket_reso, --max_bucket_reso
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∫—Ä–æ–ø –ø–æ–¥ –≤—ã–±—Ä–∞–Ω–Ω–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –∫–∞—Ä—Ç–∏–Ω–æ–∫ –∏ —Ä–∞—Å—Å–æ–≤—ã–≤–∞–Ω–∏–µ –∏—Ö –≤ "–±–∞–∫–µ—Ç—ã". –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–µ –ø–æ–π–¥—É—Ç –≤ 896—Ö640 –∏ —Å—Ö–æ–∂–∏–µ –ø—Ä–∏ –≤—ã–±–æ—Ä–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ 768, –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–µ –Ω–∞–æ–±–æ—Ä–æ—Ç –≤ 640—Ö896 –∏ —Å—Ö–æ–∂–∏–µ. –õ—É—á—à–µ —Å—Ç–∞–≤–∏—Ç—å –ø—Ä–æ—Å—Ç–æ –±–æ–ª—å—à–æ–π –¥–∏–∞–ø–∞–∑–æ–Ω –ø–æ —Ç–∏–ø—É ```--min_bucket_reso=256 --max_bucket_reso=1536```. –ï—Å–ª–∏ –≤ –¥–∞—Ç–∞—Å–µ—Ç–µ –±—É–¥—É—Ç –ø—Ä–µ–æ–±–ª–∞–¥–∞—Ç—å, –Ω–∞–ø—Ä–∏–º–µ—Ä –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, —ç—Ç–æ –º–æ–∂–µ—Ç —Å–∫–∞–∑–∞—Ç—å—Å—è –Ω–∞ –∏—Ç–æ–≥–æ–≤–æ–º –∫–∞—á–µ—Å—Ç–≤–µ –º–æ–¥–µ–ª–∏ –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–π –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π.

#### --persistent_data_loader_workers
–í—ã–∫–ª—é—á–∞–µ—Ç –Ω–∞–∑–æ–π–ª–∏–≤—ã–µ –ø–∞—É–∑—ã –º–µ–¥–∂—É —ç–ø–æ—Ö–∞–º–∏, —Å—Ç–æ–∏—Ç –≤–∫–ª—é—á–∞—Ç—å –≤—Å–µ–≥–¥–∞.

#### --max_data_loader_n_workers
–Ø —Ç–∞–∫ –∏ –Ω–µ –≤—Å—Ç—Ä–µ—Ç–∏–ª —Å–ª—É—á–∞—è, –≥–¥–µ –±—ã–ª–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–Ω–∞—á–µ–Ω–∏–µ –±–æ–ª—å—à–µ –¥–≤—É—Ö, –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã. –ê –≤–æ—Ç –ø–æ–≤—ã—à–µ–Ω–∏–µ —ç—Ç–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –Ω–∞—á–∏–Ω–∞–µ—Ç –æ—Ç—ä–µ–¥–∞—Ç—å –ª—å–≤–∏–Ω—É—é –¥–æ–ª—é —Å–∏—Å—Ç–µ–º–Ω–æ–π –ø–∞–º—è—Ç–∏ (RAM). –ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Å—Ç–∞–≤–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –±–æ–ª—å—à–µ 2.

***

## –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

Q: –û—à–∏–±–∫–∏, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å ```accelerate``` –∏ ```default_config.yaml``` –≤–æ –≤—Ä–µ–º—è –∑–∞–ø—É—Å–∫–∞ ```install.bat``` —Å–∫—Ä–∏–ø—Ç–∞.
-> ![](https://files.catbox.moe/fuaakf.png) <-
A: –ü–æ—Å—Ç–∞–≤–∏—Ç—å [vc_redist](https://aka.ms/vs/17/release/vc_redist.x64.exe) –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å ```install.bat``` –µ—â—ë —Ä–∞–∑.

Q: –û—à–∏–±–∫–∞ —Å–≤—è–∑–∞–Ω–Ω–∞—è —Å ```zipfile``` –≤–æ –≤—Ä–µ–º—è –∑–∞–ø—É—Å–∫–∞ ```install.bat``` —Å–∫—Ä–∏–ø—Ç–∞ –∏ –æ—Ç–≤–µ—Ç–∞ **y** –Ω–∞ –≤–æ–ø—Ä–æ—Å **Do you want to install the optional cudnn patch for faster training on high end 30X0 and 40X0 cards?**.
-> ![](https://files.catbox.moe/9wtzx7.png) <-
A: –≠—Ç–æ —Å–≤—è–∑–∞–Ω–æ —Å –Ω–µ–¥–æ—Å—è–≥–∞–µ–º–æ—Å—Ç—å—é —Ö–æ—Å—Ç–∞ —Å cudnn —Ñ–∏–∫—Å–æ–º —Å –≤–∞—à–µ–≥–æ –∞–π–ø–∏. –†–µ—à–µ–Ω–∏–µ–º –±—É–¥–µ—Ç —Ä–µ—Ä–æ—É—Ç–Ω—É—Ç—å —Ç—Ä–∞—Ñ—Ñ–∏–∫ –ª—é–±—ã–º —Å–ø–æ—Å–æ–±–æ–º, –Ω–∞–ø—Ä–∏–º–µ—Ä –≤–∫–ª—é—á–∏—Ç—å –ø—Ä–æ–∫—Å–∏/–≤–ø–Ω –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å ```install.bat``` –µ—â—ë —Ä–∞–∑.

Q: –ö–∞–∫–∏–µ-—Ç–æ –ø—Ä–æ–±–ª–µ–º—ã —Å CUDA.
A: –í–µ—Ä–æ—è—Ç–Ω–æ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω [CUDA Toolkit](https://developer.nvidia.com/cuda-11-6-0-download-archive?target_os=Windows&target_arch=x86_64&target_version=11).

Q: –£ –º–µ–Ω—è –∫–∞—Ä—Ç–æ—á–∫–∞ 10-–π —Å–µ—Ä–∏–∏ –∏ —É –º–µ–Ω—è –≤—ã–≤–∞–ª–∏–≤–∞–µ—Ç –æ—à–∏–±–∫—É –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏. –ß—Ç–æ –¥–µ–ª–∞—Ç—å?
A: –°–∫–∞—á–∞—Ç—å [–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ cuda](https://github.com/james-things/bitsandbytes-prebuilt-all_arch), —Ñ–∞–π–ª *libbitsandbytes_cudaall.dll* –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å –≤ *libbitsandbytes_cuda116.dll*, –ø–æ–º–µ—Å—Ç–∏—Ç—å –ø–æ –ø—É—Ç–∏ *sd-scripts\venv\Lib\site-packages\bitsandbytes\\* —Å –∑–∞–º–µ–Ω–æ–π.

Q: –£ –º–µ–Ω—è Windows 7 –∏ PowerShell –∫—Ä–∞—à–∏—Ç—Å—è.
A: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ [PowerShell 6](https://github.com/PowerShell/PowerShell/releases/tag/v6.2.6).

Q: –°—ã–ø—è—Ç—Å—è –∫—Ä–∞—Å–Ω—ã–µ –æ—à–∏–±–∫–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ —Å–∫—Ä–∏–ø—Ç–∞!
A: –û–±–Ω–æ–≤–∏—Ç–µ [PowerShell](https://github.com/PowerShell/PowerShell/releases).

Q: –£—Å—Ç–∞–Ω–æ–≤–∏–ª –≤—Å—ë –ø–æ –≥–∞–π–¥—É, –Ω–æ –≤—Å–µ —Ä–∞–≤–Ω–æ –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç –º–æ–¥—É–ª–∏! –ú–Ω–µ —á—Ç–æ, –∫–∞–∂–¥—É—é –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –≤—Ä—É—á–Ω—É—é?
A: –ù–µ—Ç, –ø—Ä–æ—Ü–µ—Å—Å –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –±—ã–ª –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω, –∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ —É–±—Ä–∞–Ω —Ñ–ª–∞–≥ *--system-site-packages*. –≠—Ç–æ—Ç —Ñ–ª–∞–≥ –æ—Ç–≤–µ—á–∞–ª –∑–∞ —É—á—ë—Ç —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫, —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –ø–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º—É —Å–∏—Å—Ç–µ–º–Ω–æ–º—É –ø—É—Ç–∏, –∏ —ç—Ç–æ –Ω–µ—Ä–µ–¥–∫–æ –ø—Ä–∏–≤–æ–¥–∏–ª–æ –∫ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞–º (–≤ —Ç.—á. —É –∞–≤—Ç–æ—Ä–∞). –£–¥–∞–ª–∏—Ç–µ –ø–∞–ø–∫—É *venv* –∏–∑ *\sd-scripts* –∏ –ø—Ä–æ–π–¥–∏—Ç–µ—Å—å –ø–æ –∫–æ–º–∞–Ω–¥–∞–º –∑–∞–Ω–æ–≤–æ.

Q: –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç –∏–ª–∏ anon1337-gui –≤—ã–ª–µ–∑–∞–µ—Ç –æ—à–∏–±–∫–∞: **TypeError: ClusterConfig.__init__() got an unexpected keyword argument 'downcase_fp16'**
A: –†—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É–µ—Ç —Å —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π derrian gui. –ü–æ—Ñ–∏–∫—Å–∏—Ç—å –º–æ–∂–Ω–æ —á–µ—Ä–µ–∑ **accelerate config** –∑–∞–π–¥—è –≤ venv —Ä—É—á–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏ sd-scripts.
